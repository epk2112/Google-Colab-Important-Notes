<!DOCTYPE html>
<!-- saved from url=(0038)https://realpython.com/python-zipfile/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="https://cdn.realpython.com/" rel="preconnect">
<link href="https://files.realpython.com/" rel="preconnect">
<title>Python's zipfile: Manipulate Your ZIP Files Efficiently – Real Python</title>
<meta name="author" content="Real Python">
<meta name="description" content="In this guided tutorial, you&#39;ll learn how to manipulate ZIP files using Python&#39;s zipfile module from the standard library. Through hands-on examples, you&#39;ll learn how to read, write, compress, and extract files from your ZIP files quickly.">
<meta name="keywords" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
<link rel="stylesheet" href="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/realpython.min.9bf315f11a8c.css">
<link rel="stylesheet" href="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/font.5ac42994de49.css">
<link rel="stylesheet" href="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/glightbox.min.f69035b3cab2.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;"><noscript><link rel="stylesheet" href="https://cdn.realpython.com/static/glightbox.min.f69035b3cab2.css"></noscript>
<link rel="stylesheet" href="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/noty.22b505e925dc.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;"><noscript><link rel="stylesheet" href="https://cdn.realpython.com/static/noty.22b505e925dc.css"></noscript>
<link rel="canonical" href="https://realpython.com/python-zipfile/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg">
<meta property="og:image" content="https://files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg">
<meta name="twitter:creator" content="@realpython">
<meta name="twitter:site" content="@realpython">
<meta property="og:title" content="Python&#39;s zipfile: Manipulate Your ZIP Files Efficiently – Real Python">
<meta property="og:type" content="article">
<meta property="og:url" content="https://realpython.com/python-zipfile/">
<meta property="og:description" content="In this guided tutorial, you&#39;ll learn how to manipulate ZIP files using Python&#39;s zipfile module from the standard library. Through hands-on examples, you&#39;ll learn how to read, write, compress, and extract files from your ZIP files quickly.">
<link href="https://cdn.realpython.com/static/favicon.68cbf4197b0c.png" rel="icon">
<link href="https://realpython.com/atom.xml" rel="alternate" title="Real Python" type="application/atom+xml">
<link rel="manifest" href="https://realpython.com/manifest.json">
<script type="text/javascript" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/vendor.90fe6783.js.download"></script><script type="text/javascript" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/main.e62f983e.js.download"></script><script type="text/javascript" async="" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource"></script><script async="" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/fbevents.js.download"></script><script async="" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/analytics.js.download"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35184939-1', 'auto', {'allowLinker': true});

  

  

  
  
  ga('set', {
    dimension1: true,
    dimension2: false
  });
  

  ga('send', 'pageview');
  
</script>
<script async="" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/invisible.js.download"></script><script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/OneSignalPageSDKES6.js.download" async=""></script><script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/count-data.js.download"></script><link rel="stylesheet" href="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/OneSignalSDKStyles.css"><style hs-beacon="active" data-styled-version="5.1.1"></style></head>
<body>
<nav class="navbar fixed-top navbar-expand-lg navbar-dark flex-column ">
<div class="container flex-row">
<a class="navbar-brand" href="https://realpython.com/">
<img src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/real-python-logo.893c30edea53.svg" width="165" height="40" class="d-inline-block align-top" alt="Real Python">
</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse navbar-nav-scroll" id="navbarSupportedContent" role="navigation" aria-label="Main Navigation">
<ul class="navbar-nav mr-2">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/start-here/">Start&nbsp;Here</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/python-zipfile/#" id="navbarDropdownLibrary" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="fa fa-graduation-cap" aria-hidden="true"></span> Learn Python
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownLibrary">
<a class="dropdown-item" href="https://realpython.com/search?kind=article&amp;kind=course&amp;order=newest" style="color: #ff7e73; line-height: 110%;"><i class="fa fa-fw mr-1 fa-graduation-cap" aria-hidden="true"></i> Python Tutorials →<br><small class="text-secondary">In-depth articles and video courses</small></a>
<a class="dropdown-item" href="https://realpython.com/learning-paths/" style="color: #ffc873; line-height: 110%;"><i class="fa fa-fw mr-1 fa-map-o" aria-hidden="true"></i> Learning Paths →<br><small class="text-secondary">Guided study plans for accelerated learning</small></a>
<a class="dropdown-item" href="https://realpython.com/quizzes/" style="color: #abe0e5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-trophy" aria-hidden="true"></i> Quizzes →<br><small class="text-secondary">Check your learning progress</small></a>
<a class="dropdown-item" href="https://realpython.com/tutorials/all/" style="color: #ccc; line-height: 110%;"><i class="fa fa-fw mr-1 fa-tags" aria-hidden="true"></i> Browse Topics →<br><small class="text-secondary">Focus on a specific area or skill level</small></a>
<a class="dropdown-item" href="https://realpython.com/community/" style="color: #e5c6ab; line-height: 110%;"><i class="fa fa-fw mr-1 fa-slack" aria-hidden="true"></i> Community Chat →<br><small class="text-secondary">Learn with other Pythonistas</small></a>
<a class="dropdown-item" href="https://realpython.com/office-hours/" style="color: #e5c6ab; line-height: 110%;"><i class="fa fa-fw mr-1 fa-users" aria-hidden="true"></i> Office Hours →<br><small class="text-secondary">Live Q&amp;A calls with Python experts</small></a>
<a class="dropdown-item" href="https://realpython.com/podcasts/rpp/" style="color: #b8abe5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-podcast" aria-hidden="true"></i> Podcast →<br><small class="text-secondary">Hear what’s new in the world of Python</small></a>
<a class="dropdown-item pb-3" href="https://realpython.com/products/books/" style="color: #abe5b1; line-height: 110%;"><i class="fa fa-fw mr-1 fa-book" aria-hidden="true"></i> Books →<br><small class="text-secondary">Round out your knowledge and learn offline</small></a>
<a class="dropdown-item border-top text-warning" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning" aria-hidden="true"></i> Unlock All Content →</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/python-zipfile/#" id="navbarDropdownMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
More
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMore">
<a class="dropdown-item" href="https://realpython.com/products/">Python Learning Resources</a>
<a class="dropdown-item" href="https://realpython.com/newsletter/">Python Newsletter</a>
<a class="dropdown-item" href="https://www.pythonjobshq.com/" target="_blank">Python Job Board</a>
<a class="dropdown-item" href="https://realpython.com/team/">Meet the Team</a>
<a class="dropdown-item" href="https://realpython.com/write-for-us/">Become a Tutorial Author</a>
<a class="dropdown-item" href="https://realpython.com/become-an-instructor/">Become a Video Instructor</a>
</div>
</li>
</ul>
<div class="d-block d-lg-none">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/search" title="Search"><span class="d-block d-lg-none"><i class="fa fa-search" aria-hidden="true"></i> Search</span><span class="d-none d-lg-block"><i class="fa fa-search" aria-hidden="true"></i></span></a>
</li>
</ul>
</div>
<div class="d-none d-lg-flex align-items-center mr-2 flex-fill">
<form class="form-inline w-100" action="https://realpython.com/search" method="GET">
<a class="js-search-form-submit position-absolute" href="https://realpython.com/search" title="Search"><i class="fa fa-search fa-fw text-muted pl-2" aria-hidden="true"></i></a>
<input class="search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength="50" type="search" placeholder="Search" aria-label="Search" name="q">
<input type="hidden" name="_from" value="nav">
</form>
</div>
<ul class="navbar-nav ml-auto">
<li class="nav-item form-inline mr-2">
<a class="btn btn-sm btn-primary px-3" href="https://realpython.com/account/join/">Join</a>
</li>
<li class="nav-item dropdown">
<a class="ml-2 ml-lg-0 btn text-light p-0 my-2" href="https://realpython.com/python-zipfile/#" id="navbarDropdownAccount" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="My Account">
<div class="media">
<img class="align-self-center rounded rounded-circle mr-1 flex-shrink-0" style="width: 45px; height: 45px;" width="500" height="500" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/48f76159b0ff4adf99e97c004e73b8d1.jpeg" alt="User avatar">
<span id="NO_badge_cont" class="NO_visible"><span id="NO_badge" class="NO_visible"></span></span>
<p class="align-self-center p-0 m-0 dropdown-toggle"></p>
</div>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownAccount">
<a class="dropdown-item" href="https://realpython.com/account/notifications/"><i class="fa fa-fw fa-bell" aria-hidden="true"></i> Notifications <span class="badge badge-pill badge-danger">2</span></a>
<a class="dropdown-item" href="https://realpython.com/account/"><i class="fa fa-fw fa-sliders" aria-hidden="true"></i> Manage Account</a>
<a class="dropdown-item" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning" aria-hidden="true"></i> Get Full Access</a>
<a class="dropdown-item" href="https://realpython.com/account/bookmarks/"><i class="fa fa-fw fa-bookmark" aria-hidden="true"></i> Bookmarks</a>
<a class="dropdown-item" href="https://realpython.com/certificates/"><i class="fa fa-fw fa-trophy" aria-hidden="true"></i> Certificates</a>
<a class="dropdown-item" href="https://realpython.com/account/purchases/"><i class="fa fa-fw fa-shopping-cart" aria-hidden="true"></i> Purchases</a>
<a class="dropdown-item" href="https://realpython.com/account/logout/"><i class="fa fa-fw fa-sign-out" aria-hidden="true"></i> Sign Out</a>
</div>
</li>
</ul>
</div>
</div>
</nav>
<div class="container main-content">
<div class="row justify-content-center">
<div class="col-md-11 col-lg-8 article with-headerlinks">
<figure class="embed-responsive embed-responsive-16by9">
<img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain;" alt="Python&#39;s zipfile: Manipulate Your ZIP Files Efficiently" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/Using-ZIP-Files-With-Python_Watermarked.webp" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg&amp;w=480&amp;sig=5e29c1eb80679fe07db35f990a49ed0d8bfe64e9 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg&amp;w=960&amp;sig=9fa55a8dc81cde0f91cd002b0ad5de57aad44d67 960w, https://files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg 1920w" sizes="75vw">
</figure>
<h1>Python's zipfile: Manipulate Your ZIP Files Efficiently</h1>
<div class="mb-0">
<span class="text-muted">by <a class="text-muted" href="https://realpython.com/python-zipfile/#author">Leodanis Pozo Ramos</a>
<span class="ml-2 fa fa-clock-o"></span> Feb 14, 2022
<span class="ml-2 mr-1 fa fa-comments"></span><a class="text-muted" href="https://realpython.com/python-zipfile/#reader-comments"><span class="disqus-comment-count" data-disqus-identifier="https://realpython.com/python-zipfile/">0 Comments</span></a>
<span class="ml-2 fa fa-tags" aria-hidden="true"></span>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
<div class="d-sm-flex flex-row justify-content-between my-3 text-center">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left"><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
<div class="align-self-center my-2">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Python%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%20by%20@realpython&amp;url=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APython%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%0A%0Ahttps%3A//realpython.com/python-zipfile/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
</div>
</span></div>
<div class="article-body">
<div class="bg-light sidebar-module sidebar-module-inset" id="toc">
<p class="h3 mb-2 text-muted">Table of Contents</p>
<div class="toc">
<ul>
<li><a href="https://realpython.com/python-zipfile/#getting-started-with-zip-files">Getting Started With ZIP Files</a><ul>
<li><a href="https://realpython.com/python-zipfile/#what-is-a-zip-file">What Is a ZIP File?</a></li>
<li><a href="https://realpython.com/python-zipfile/#why-use-zip-files">Why Use ZIP Files?</a></li>
<li><a href="https://realpython.com/python-zipfile/#can-python-manipulate-zip-files">Can Python Manipulate ZIP Files?</a></li>
</ul>
</li>
<li><a href="https://realpython.com/python-zipfile/#manipulating-existing-zip-files-with-pythons-zipfile">Manipulating Existing ZIP Files With Python’s zipfile</a><ul>
<li><a href="https://realpython.com/python-zipfile/#opening-zip-files-for-reading-and-writing">Opening ZIP Files for Reading and Writing</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-metadata-from-zip-files">Reading Metadata From ZIP Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-from-and-writing-to-member-files">Reading From and Writing to Member Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-the-content-of-member-files-as-text">Reading the Content of Member Files as Text</a></li>
<li><a href="https://realpython.com/python-zipfile/#extracting-member-files-from-your-zip-archives">Extracting Member Files From Your ZIP Archives</a></li>
<li><a href="https://realpython.com/python-zipfile/#closing-zip-files-after-use">Closing ZIP Files After Use</a></li>
</ul>
</li>
<li><a href="https://realpython.com/python-zipfile/#creating-populating-and-extracting-your-own-zip-files">Creating, Populating, and Extracting Your Own ZIP Files</a><ul>
<li><a href="https://realpython.com/python-zipfile/#creating-a-zip-file-from-multiple-regular-files">Creating a ZIP File From Multiple Regular Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#building-a-zip-file-from-a-directory">Building a ZIP File From a Directory</a></li>
<li><a href="https://realpython.com/python-zipfile/#compressing-files-and-directories">Compressing Files and Directories</a></li>
<li><a href="https://realpython.com/python-zipfile/#creating-zip-files-sequentially">Creating ZIP Files Sequentially</a></li>
<li><a href="https://realpython.com/python-zipfile/#extracting-files-and-directories">Extracting Files and Directories</a></li>
</ul>
</li>
<li><a href="https://realpython.com/python-zipfile/#exploring-additional-classes-from-zipfile">Exploring Additional Classes From zipfile</a><ul>
<li><a href="https://realpython.com/python-zipfile/#finding-path-in-a-zip-file">Finding Path in a ZIP File</a></li>
<li><a href="https://realpython.com/python-zipfile/#building-importable-zip-files-with-pyzipfile">Building Importable ZIP Files With PyZipFile</a></li>
</ul>
</li>
<li><a href="https://realpython.com/python-zipfile/#running-zipfile-from-your-command-line">Running zipfile From Your Command Line</a></li>
<li><a href="https://realpython.com/python-zipfile/#using-other-libraries-to-manage-zip-files">Using Other Libraries to Manage ZIP Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
<a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"> <i class="fa fa-info-circle" aria-hidden="true"> </i> Remove ads</a>
</div>
<p>Python’s <a href="https://docs.python.org/3/library/zipfile.html"><code>zipfile</code></a> is a standard library module intended to manipulate <strong>ZIP files</strong>. This file format is a widely adopted industry standard when it comes to archiving and compressing digital data. You can use it to package together several related files. It also allows you to reduce the size of your files and save disk space. Most importantly, it facilitates data exchange over computer networks.</p>
<p>Knowing how to create, read, write, populate, extract, and list ZIP files using the <code>zipfile</code> module is a useful skill to have as a Python developer or a DevOps engineer.</p>
<p><strong>In this tutorial, you’ll learn how to:</strong></p>
<ul>
<li><strong>Read, write, and extract</strong> files from ZIP files with Python’s <code>zipfile</code></li>
<li>Read <strong>metadata</strong> about the content of ZIP files using <code>zipfile</code></li>
<li>Use <code>zipfile</code> to <strong>manipulate member files</strong> in existing ZIP files</li>
<li>Create <strong>new ZIP files</strong> to archive and compress files</li>
</ul>
<p>If you commonly deal with ZIP files, then this knowledge can help to streamline your workflow to process your files confidently.</p>
<p>To get the most out of this tutorial, you should know the basics of <a href="https://realpython.com/working-with-files-in-python/">working with files</a>, using the <a href="https://realpython.com/python-with-statement/"><code>with</code> statement</a>, handling file system paths with <a href="https://realpython.com/python-pathlib/"><code>pathlib</code></a>, and working with classes and <a href="https://realpython.com/python3-object-oriented-programming/">object-oriented programming</a>.</p>
<p>To get the files and archives that you’ll use to code the examples in this tutorial, click the link below:</p>
<div class="alert alert-warning" role="alert">
<p><strong markdown="1">Get Materials:</strong> <a href="https://realpython.com/bonus/python-zipfile-materials/" class="alert-link" data-toggle="modal" data-target="#modal-python-zipfile-materials" data-focus="false" markdown="1">Click here to get a copy of the files and archives</a> that you’ll use to run the examples in this zipfile tutorial.</p>
</div>
<section class="section2" id="getting-started-with-zip-files"><h2>Getting Started With ZIP Files<a class="headerlink" href="https://realpython.com/python-zipfile/#getting-started-with-zip-files" title="Permanent link"></a></h2>
<p><strong>ZIP files</strong> are a well-known and popular tool in today’s digital world. These files are fairly popular and widely used for cross-platform data exchange over computer networks, notably the Internet.</p>
<p>You can use ZIP files for bundling regular files together into a single archive, compressing your data to save some disk space, distributing your digital products, and more. In this tutorial, you’ll learn how to manipulate ZIP files using Python’s <code>zipfile</code> module.</p>
<p>Because the terminology around ZIP files can be confusing at times, this tutorial will stick to the following conventions regarding terminology:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Term</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>ZIP file, ZIP archive, or archive</td>
<td>A physical file that uses the <a href="https://en.wikipedia.org/wiki/ZIP_(file_format)">ZIP file format</a></td>
</tr>
<tr>
<td>File</td>
<td>A regular <a href="https://en.wikipedia.org/wiki/Computer_file">computer file</a></td>
</tr>
<tr>
<td>Member file</td>
<td>A file that is part of an existing ZIP file</td>
</tr>
</tbody>
</table>
</div>
<p>Having these terms clear in your mind will help you avoid confusion while you read through the upcoming sections. Now you’re ready to continue learning how to manipulate ZIP files efficiently in your Python code!</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section3" id="what-is-a-zip-file"><h3>What Is a ZIP File?<a class="headerlink" href="https://realpython.com/python-zipfile/#what-is-a-zip-file" title="Permanent link"></a></h3>
<p>You’ve probably already encountered and worked with ZIP files. Yes, those with the <code>.zip</code> file extension are everywhere! ZIP files, also known as <strong>ZIP archives</strong>, are files that use the <strong>ZIP file format</strong>.</p>
<p><a href="https://en.wikipedia.org/wiki/PKWARE,_Inc.">PKWARE</a> is the company that created and first implemented this file format. The company put together and maintains the current <a href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">format specification</a>, which is publicly available and allows the creation of products, programs, and processes that read and write files using the ZIP file format.</p>
<p>The ZIP file format is a cross-platform, interoperable file storage and transfer format. It combines <a href="https://en.wikipedia.org/wiki/Lossless_compression">lossless data compression</a>, file management, and data <a href="https://en.wikipedia.org/wiki/Encryption">encryption</a>.</p>
<p>Data compression isn’t a requirement for an archive to be considered a ZIP file. So you can have compressed or uncompressed member files in your ZIP archives. The ZIP file format supports several compression algorithms, though <a href="https://en.wikipedia.org/wiki/Deflate">Deflate</a> is the most common. The format also supports information integrity checks with <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">CRC32</a>.</p>
<p>Even though there are other similar archiving formats, such as <a href="https://en.wikipedia.org/wiki/RAR_(file_format)">RAR</a> and <a href="https://en.wikipedia.org/wiki/Tar_(computing)#File_format">TAR</a> files, the ZIP file format has quickly become a common standard for efficient data storage and for data exchange over computer networks.</p>
<p>ZIP files are everywhere. For example, office suites such as <a href="https://en.wikipedia.org/wiki/Microsoft_Office">Microsoft Office</a> and <a href="https://en.wikipedia.org/wiki/LibreOffice">Libre Office</a> rely on the ZIP file format as their <a href="https://www.iso.org/standard/60101.html">document container file</a>. This means that <code>.docx</code>, <code>.xlsx</code>, <code>.pptx</code>, <code>.odt</code>, <code>.ods</code>, <code>.odp</code> files are actually ZIP archives containing several files and folders that make up each document. Other common files that use the ZIP format include <a href="https://en.wikipedia.org/wiki/JAR_(file_format)"><code>.jar</code></a>, <a href="https://en.wikipedia.org/wiki/WAR_(file_format)"><code>.war</code></a>, and <a href="https://en.wikipedia.org/wiki/EPUB"><code>.epub</code></a> files.</p>
<p>You may be familiar with <a href="https://realpython.com/python-git-github-intro/">GitHub</a>, which provides web hosting for software development and <a href="https://en.wikipedia.org/wiki/Version_control">version control</a> using <a href="https://realpython.com/advanced-git-for-pythonistas/">Git</a>. GitHub uses ZIP files to package software projects when you download them to your local computer. For example, you can download the <a href="https://github.com/realpython/python-basics-exercises/archive/refs/heads/master.zip">exercise solutions</a> for <a href="https://realpython.com/products/python-basics-book/"><em>Python Basics: A Practical Introduction to Python 3</em></a> book in a ZIP file, or you can download any other project of your choice.</p>
<p>ZIP files allow you to aggregate, compress, and encrypt files into a single interoperable and portable container. You can stream ZIP files, split them into segments, make them self-extracting, and more.</p>
</section><section class="section3" id="why-use-zip-files"><h3>Why Use ZIP Files?<a class="headerlink" href="https://realpython.com/python-zipfile/#why-use-zip-files" title="Permanent link"></a></h3>
<p>Knowing how to create, read, write, and extract ZIP files can be a useful skill for developers and professionals who work with computers and digital information. Among other benefits, ZIP files allow you to:</p>
<ul>
<li><strong>Reduce the size of files</strong> and their storage requirements without losing information</li>
<li><strong>Improve transfer speed over the network</strong> due to reduced size and single-file transfer</li>
<li><strong>Pack several related files together</strong> into a single archive for efficient management</li>
<li><strong>Bundle your code into a single archive</strong> for distribution purposes</li>
<li><strong>Secure your data by using encryption</strong>, which is a common requirement nowadays</li>
<li><strong>Guarantee the integrity of your information</strong> to avoid accidental and malicious changes to your data</li>
</ul>
<p>These features make ZIP files a useful addition to your Python toolbox if you’re looking for a flexible, portable, and reliable way to archive your digital files.</p>
</section><section class="section3" id="can-python-manipulate-zip-files"><h3>Can Python Manipulate ZIP Files?<a class="headerlink" href="https://realpython.com/python-zipfile/#can-python-manipulate-zip-files" title="Permanent link"></a></h3>
<p>Yes! Python has several tools that allow you to manipulate ZIP files. Some of these tools are available in the Python <a href="https://docs.python.org/3/library/index.html">standard library</a>. They include low-level libraries for compressing and decompressing data using specific compression algorithms, such as <a href="https://docs.python.org/3/library/zlib.html#module-zlib"><code>zlib</code></a>, <a href="https://docs.python.org/3/library/bz2.html#module-bz2"><code>bz2</code></a>, <a href="https://docs.python.org/3/library/lzma.html#module-lzma"><code>lzma</code></a>, and <a href="https://realpython.com/python-zipfile/#using-other-libraries-to-manage-zip-files">others</a>.</p>
<p>Python also provides a high-level module called <code>zipfile</code> specifically designed to create, read, write, extract, and list the content of ZIP files. In this tutorial, you’ll learn about Python’s <code>zipfile</code> and how to use it effectively.</p>
</section></section><section class="section2" id="manipulating-existing-zip-files-with-pythons-zipfile"><h2>Manipulating Existing ZIP Files With Python’s <code>zipfile</code><a class="headerlink" href="https://realpython.com/python-zipfile/#manipulating-existing-zip-files-with-pythons-zipfile" title="Permanent link"></a></h2>
<p>Python’s <code>zipfile</code> provides convenient classes and functions that allow you to create, read, write, extract, and list the content of your ZIP files. Here are some additional features that <code>zipfile</code> supports:</p>
<ul>
<li>ZIP files greater than 4 GiB (<a href="https://en.wikipedia.org/wiki/ZIP_(file_format)#ZIP64">ZIP64 files</a>)</li>
<li>Data decryption</li>
<li>Several compression algorithms, such as Deflate, <a href="https://en.wikipedia.org/wiki/Bzip2">Bzip2</a>, and <a href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a></li>
<li>Information integrity checks with CRC32</li>
</ul>
<p>Be aware that <code>zipfile</code> does have a few limitations. For example, the current data decryption feature can be pretty slow because it uses pure Python code. The module can’t handle the creation of encrypted ZIP files. Finally, the use of multi-disk ZIP files isn’t supported either. Despite these limitations, <code>zipfile</code> is still a great and useful tool. Keep reading to explore its capabilities.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section3" id="opening-zip-files-for-reading-and-writing"><h3>Opening ZIP Files for Reading and Writing<a class="headerlink" href="https://realpython.com/python-zipfile/#opening-zip-files-for-reading-and-writing" title="Permanent link"></a></h3>
<p>In the <code>zipfile</code> module, you’ll find the <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile"><code>ZipFile</code></a> class. This class works pretty much like Python’s built-in <a href="https://realpython.com/read-write-files-python/#opening-and-closing-a-file-in-python"><code>open()</code></a> function, allowing you to open your ZIP files using different modes. The read mode (<code>"r"</code>) is the default. You can also use the write (<code>"w"</code>), append (<code>"a"</code>), and exclusive (<code>"x"</code>) modes. You’ll learn more about each of these in a moment.</p>
<p><code>ZipFile</code> implements the <strong>context manager protocol</strong> so that you can use the class in a <a href="https://realpython.com/python-with-statement/"><code>with</code> statement</a>. This feature allows you to quickly open and work with a ZIP file without worrying about <a href="https://realpython.com/why-close-file-python/">closing the file</a> after you finish your work.</p>
<p>Before writing any code, make sure you have a copy of the files and archives that you’ll be using:</p>
<div class="alert alert-warning" role="alert">
<p><strong markdown="1">Get Materials:</strong> <a href="https://realpython.com/bonus/python-zipfile-materials/" class="alert-link" data-toggle="modal" data-target="#modal-python-zipfile-materials" data-focus="false" markdown="1">Click here to get a copy of the files and archives</a> that you’ll use to run the examples in this zipfile tutorial.</p>
</div>
<p>To get your working environment ready, place the downloaded resources into a directory called <code>python-zipfile/</code> in your home folder. Once you have the files in the right place, move to the newly created directory and fire up a Python interactive session there.</p>
<p>To warm up, you’ll start by reading the ZIP file called <code>sample.zip</code>. To do that, you can use <code>ZipFile</code> in reading mode:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
</code></pre></div>
<p>The first argument to the initializer of <code>ZipFile</code> can be a <a href="https://realpython.com/python-strings/">string</a> representing the path to the ZIP file that you need to open. This argument can accept <a href="https://docs.python.org/3/glossary.html#term-file-object">file-like</a> and <a href="https://docs.python.org/3/glossary.html#term-path-like-object">path-like</a> objects too. In this example, you use a string-based path.</p>
<p>The second argument to <code>ZipFile</code> is a single-letter string representing the mode that you’ll use to open the file. As you learned at the beginning of this section, <code>ZipFile</code> can accept four possible modes, depending on your needs. The <code>mode</code> <a href="https://realpython.com/defining-your-own-python-function/#positional-arguments">positional argument</a> defaults to <code>"r"</code>, so you can get rid of it if you want to open the archive for reading only.</p>
<p>Inside the <code>with</code> statement, you call <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.printdir"><code>.printdir()</code></a> on <code>archive</code>. The <code>archive</code> <a href="https://realpython.com/python-variables/">variable</a> now holds the instance of <code>ZipFile</code> itself. This function provides a quick way to display the content of the underlying ZIP file on your screen. The function’s output has a user-friendly tabular format with three informative columns:</p>
<ul>
<li><code>File Name</code></li>
<li><code>Modified</code></li>
<li><code>Size</code></li>
</ul>
<p>If you want to make sure that you’re targeting a valid ZIP file before you try to open it, then you can wrap <code>ZipFile</code> in a <a href="https://realpython.com/python-exceptions/#the-try-and-except-block-handling-exceptions"><code>try</code> … <code>except</code></a> statement and catch any <a href="https://docs.python.org/3/library/zipfile.html#zipfile.BadZipFile"><code>BadZipFile</code></a> exception:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">BadZipFile</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"bad_sample.zip"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">BadZipFile</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">File is not a zip file</span>
</code></pre></div>
<p>The first example successfully opens <code>sample.zip</code> without raising a <code>BadZipFile</code> exception. That’s because <code>sample.zip</code> has a valid ZIP format. On the other hand, the second example doesn’t succeed in opening <code>bad_sample.zip</code>, because the file is not a valid ZIP file.</p>
<p>To check for a valid ZIP file, you can also use the <a href="https://docs.python.org/3/library/zipfile.html#zipfile.is_zipfile"><code>is_zipfile()</code></a> function:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">is_zipfile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">"File is not a zip file"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">is_zipfile</span><span class="p">(</span><span class="s2">"bad_sample.zip"</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"bad_sample.zip"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">"File is not a zip file"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">File is not a zip file</span>
</code></pre></div>
<p>In these examples, you use a <a href="https://realpython.com/python-conditional-statements/">conditional statement</a> with <code>is_zipfile()</code> as a condition. This function takes a <code>filename</code> argument that holds the path to a ZIP file in your file system. This argument can accept string, file-like, or path-like objects. The function returns <code>True</code> if <code>filename</code> is a valid ZIP file. Otherwise, it returns <code>False</code>.</p>
<p>Now say you want to add <code>hello.txt</code> to a <code>hello.zip</code> archive using <code>ZipFile</code>. To do that, you can use the write mode (<code>"w"</code>). This mode opens a ZIP file for writing. If the target ZIP file exists, then the <code>"w"</code> mode truncates it and writes any new content you pass in.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> If you’re using <code>ZipFile</code> with existing files, then you should be careful with the <code>"w"</code> mode. You can truncate your ZIP file and lose all the original content.</p>
</div>
<p>If the target ZIP file doesn’t exist, then <code>ZipFile</code> creates it for you when you close the archive:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span>
<span class="gp">...</span>
</code></pre></div>
<p>After running this code, you’ll have a <code>hello.zip</code> file in your <code>python-zipfile/</code> directory. If you list the file content using <code>.printdir()</code>, then you’ll notice that <code>hello.txt</code> will be there. In this example, you call <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.write"><code>.write()</code></a> on the <code>ZipFile</code> object. This method allows you to write member files into your ZIP archives. Note that the argument to <code>.write()</code> should be an existing file.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> <code>ZipFile</code> is smart enough to create a new archive when you use the class in writing mode and the target archive doesn’t exist. However, the class doesn’t create new directories in the path to the target ZIP file if those directories don’t already exist.</p>
<p>That explains why the following code won’t work:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"missing/hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">FileNotFoundError</span>: <span class="n">[Errno 2] No such file or directory: 'missing/hello.zip'</span>
</code></pre></div>
<p>Because the <code>missing/</code> directory in the path to the target <code>hello.zip</code> file doesn’t exist, you get a <a href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError"><code>FileNotFoundError</code></a> exception.</p>
</div>
<p>The append mode (<code>"a"</code>) allows you to <em>append</em> new member files to an existing ZIP file. This mode doesn’t truncate the archive, so its original content is safe. If the target ZIP file doesn’t exist, then the <code>"a"</code> mode creates a new one for you and then appends any input files that you pass as an argument to <code>.write()</code>.</p>
<p>To try out the <code>"a"</code> mode, go ahead and add the <code>new_hello.txt</code> file to your newly created <code>hello.zip</code> archive:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"a"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"new_hello.txt"</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">new_hello.txt                             2021-08-31 17:13:44           13</span>
</code></pre></div>
<p>Here, you use the append mode to add <code>new_hello.txt</code> to the <code>hello.zip</code> file. Then you run <code>.printdir()</code> to confirm that the new file is present in the ZIP file.</p>
<p><code>ZipFile</code> also supports an exclusive mode (<code>"x"</code>). This mode allows you to <em>exclusively</em> create new ZIP files and write new member files into them. You’ll use the exclusive mode when you want to make a new ZIP file without overwriting an existing one. If the target file already exists, then you get <a href="https://docs.python.org/3/library/exceptions.html#FileExistsError"><code>FileExistsError</code></a>.</p>
<p>Finally, if you create a ZIP file using the <code>"w"</code>, <code>"a"</code>, or <code>"x"</code> mode and then close the archive without adding any member files, then <code>ZipFile</code> creates an empty archive with the appropriate ZIP format.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="reading-metadata-from-zip-files"><h3>Reading Metadata From ZIP Files<a class="headerlink" href="https://realpython.com/python-zipfile/#reading-metadata-from-zip-files" title="Permanent link"></a></h3>
<p>You’ve already put <code>.printdir()</code> into action. It’s a useful method that you can use to list the content of your ZIP files quickly. Along with <code>.printdir()</code>, the <code>ZipFile</code> class provides several handy methods for extracting metadata from existing ZIP files.</p>
<p>Here’s a summary of those methods:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.getinfo"><code>.getinfo(filename)</code></a></td>
<td>Returns a <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo"><code>ZipInfo</code></a> object with information about the member file provided by <code>filename</code>. Note that <code>filename</code> must hold the path to the target file inside the underlying ZIP file.</td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.infolist"><code>.infolist()</code></a></td>
<td>Returns a <a href="https://realpython.com/python-lists-tuples/">list</a> of <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo"><code>ZipInfo</code></a> objects, one per member file.</td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.namelist"><code>.namelist()</code></a></td>
<td>Returns a list holding the names of all the member files in the underlying archive. The names in this list are valid arguments to <code>.getinfo()</code>.</td>
</tr>
</tbody>
</table>
</div>
<p>With these three tools, you can retrieve a lot of useful information about the content of your ZIP files. For example, take a look at the following example, which uses <code>.getinfo()</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">info</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">getinfo</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">file_size</span>
<span class="go">83</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">compress_size</span>
<span class="go">83</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">filename</span>
<span class="go">'hello.txt'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">date_time</span>
<span class="go">(2021, 9, 7, 19, 50, 10)</span>
</code></pre></div>
<p>As you learned in the table above, <code>.getinfo()</code> takes a member file as an argument and returns a <code>ZipInfo</code> object with information about it.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> <code>ZipInfo</code> isn’t intended to be instantiated directly. The <code>.getinfo()</code> and <code>.infolist()</code> methods return <code>ZipInfo</code> objects automatically when you call them. However, <code>ZipInfo</code> includes a <a href="https://realpython.com/instance-class-and-static-methods-demystified/">class method</a> called <a href="https://docs.python.org/3/library/zipfile.html?highlight=zipfile#zipfile.ZipInfo.from_file"><code>.from_file()</code></a>, which allows you to instantiate the class explicitly if you ever need to do it.</p>
</div>
<p><code>ZipInfo</code> objects have several attributes that allow you to retrieve valuable information about the target member file. For example, <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo.file_size"><code>.file_size</code></a> and <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo.compress_size"><code>.compress_size</code></a> hold the size, in bytes, of the original and compressed files, respectively. The class also has some other useful attributes, such as <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo.filename"><code>.filename</code></a> and <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo.date_time"><code>.date_time</code></a>, which return the filename and the last modification date.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> By default, <code>ZipFile</code> doesn’t compress the input files to add them to the final archive. That’s why the size and the compressed size are the same in the above example. You’ll learn more about this topic in the <a href="https://realpython.com/python-zipfile/#compressing-files-and-directories">Compressing Files and Directories</a> section below.</p>
</div>
<p>With <code>.infolist()</code>, you can extract information from all the files in a given archive. Here’s an example that uses this method to generate a minimal report with information about all the member files in your <code>sample.zip</code> archive:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">infolist</span><span class="p">():</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Filename: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Modified: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">info</span><span class="o">.</span><span class="n">date_time</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Normal size: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">file_size</span><span class="si">}</span><span class="s2"> bytes"</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Compressed size: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">compress_size</span><span class="si">}</span><span class="s2"> bytes"</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Filename: hello.txt</span>
<span class="go">Modified: 2021-09-07 19:50:10</span>
<span class="go">Normal size: 83 bytes</span>
<span class="go">Compressed size: 83 bytes</span>
<span class="go">--------------------</span>
<span class="go">Filename: lorem.md</span>
<span class="go">Modified: 2021-09-07 19:50:10</span>
<span class="go">Normal size: 2609 bytes</span>
<span class="go">Compressed size: 2609 bytes</span>
<span class="go">--------------------</span>
<span class="go">Filename: realpython.md</span>
<span class="go">Modified: 2021-09-07 19:50:10</span>
<span class="go">Normal size: 428 bytes</span>
<span class="go">Compressed size: 428 bytes</span>
<span class="go">--------------------</span>
</code></pre></div>
<p>The <a href="https://realpython.com/python-for-loop/"><code>for</code> loop</a> iterates over the <code>ZipInfo</code> objects from <code>.infolist()</code>, retrieving the filename, the last modification date, the normal size, and the compressed size of each member file. In this example, you’ve used <a href="https://realpython.com/python-datetime/"><code>datetime</code></a> to format the date in a human-readable way.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The example above was adapted from <a href="https://pymotw.com/3/zipfile/">zipfile — ZIP Archive Access</a>.</p>
</div>
<p>If you just need to perform a quick check on a ZIP file and list the names of its member files, then you can use <code>.namelist()</code>: </p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">hello.txt</span>
<span class="go">lorem.md</span>
<span class="go">realpython.md</span>
</code></pre></div>
<p>Because the filenames in this output are valid arguments to <code>.getinfo()</code>, you can combine these two methods to retrieve information about selected member files only.</p>
<p>For example, you may have a ZIP file containing different types of member files (<code>.docx</code>, <code>.xlsx</code>, <code>.txt</code>, and so on). Instead of getting the complete information with <code>.infolist()</code>, you just need to get the information about the <code>.docx</code> files. Then you can filter the files by their extension and call <code>.getinfo()</code> on your <code>.docx</code> files only. Go ahead and give it a try!</p>
</section><section class="section3" id="reading-from-and-writing-to-member-files"><h3>Reading From and Writing to Member Files<a class="headerlink" href="https://realpython.com/python-zipfile/#reading-from-and-writing-to-member-files" title="Permanent link"></a></h3>
<p>Sometimes you have a ZIP file and need to read the content of a given member file without extracting it. To do that, you can use <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.read"><code>.read()</code></a>. This method takes a member file’s <code>name</code> and returns that file’s content as <a href="https://realpython.com/python-data-structures/#bytes-immutable-arrays-of-single-bytes">bytes</a>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">b'Hello, Pythonista!'</span>
<span class="go">b''</span>
<span class="go">b'Welcome to Real Python!'</span>
<span class="go">b''</span>
<span class="go">b"Ready to try Python's zipfile module?"</span>
<span class="go">b''</span>
</code></pre></div>
<p>To use <code>.read()</code>, you need to open the ZIP file for reading or appending. Note that <code>.read()</code> returns the content of the target file as a stream of bytes. In this example, you use <code>.split()</code> to split the stream into lines, using the <a href="https://realpython.com/python-data-types/#applying-special-meaning-to-characters">line feed</a> character <code>"\n"</code> as a separator. Because <code>.split()</code> is operating on a byte object, you need to add a leading <code>b</code> to the string used as an argument.</p>
<p><code>ZipFile.read()</code> also accepts a second positional argument called <code>pwd</code>. This argument allows you to provide a password for reading encrypted files. To try this feature, you can rely on the <code>sample_pwd.zip</code> file that you downloaded with the material for this tutorial:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample_pwd.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="n">pwd</span><span class="o">=</span><span class="sa">b</span><span class="s2">"secret"</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">b'Hello, Pythonista!'</span>
<span class="go">b''</span>
<span class="go">b'Welcome to Real Python!'</span>
<span class="go">b''</span>
<span class="go">b"Ready to try Python's zipfile module?"</span>
<span class="go">b''</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample_pwd.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">RuntimeError</span>: <span class="n">File 'hello.txt' is encrypted, password required for extraction</span>
</code></pre></div>
<p>In the first example, you provide the password <code>secret</code> to read your encrypted file. The <code>pwd</code> argument accepts values of the bytes type. If you use <code>.read()</code> on an encrypted file without providing the required password, then you get a <code>RuntimeError</code>, as you can note in the second example.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Python’s <code>zipfile</code> supports decryption. However, it doesn’t support the creation of encrypted ZIP files. That’s why you would need to use an external file archiver to encrypt your files.</p>
<p>Some popular file archivers include <a href="https://en.wikipedia.org/wiki/7-Zip">7z</a> and <a href="https://en.wikipedia.org/wiki/WinRAR">WinRAR</a> for Windows, <a href="https://en.wikipedia.org/wiki/Ark_(software)">Ark</a> and <a href="https://en.wikipedia.org/wiki/GNOME_Archive_Manager">GNOME Archive Manager</a> for Linux, and <a href="https://archiverapp.com/">Archiver</a> for macOS.</p>
</div>
<p>For large encrypted ZIP files, keep in mind that the decryption operation can be extremely slow because it’s implemented in pure Python. In such cases, consider using a specialized program to handle your archives instead of using <code>zipfile</code>.</p>
<p>If you regularly work with encrypted files, then you may want to avoid providing the decryption password every time you call <code>.read()</code> or another method that accepts a <code>pwd</code> argument. If that’s the case, you can use <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.setpassword"><code>ZipFile.setpassword()</code></a> to set a global password:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample_pwd.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">setpassword</span><span class="p">(</span><span class="sa">b</span><span class="s2">"secret"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">hello.txt</span>
<span class="go">--------------------</span>
<span class="go">b'Hello, Pythonista!'</span>
<span class="go">b''</span>
<span class="go">b'Welcome to Real Python!'</span>
<span class="go">b''</span>
<span class="go">b"Ready to try Python's zipfile module?"</span>
<span class="go">b''</span>
<span class="go">lorem.md</span>
<span class="go">--------------------</span>
<span class="go">b'# Lorem Ipsum'</span>
<span class="go">b''</span>
<span class="go">b'Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
<span class="go">    ...</span>
</code></pre></div>
<p>With <code>.setpassword()</code>, you just need to provide your password once. <code>ZipFile</code> uses that unique password for decrypting all the member files.</p>
<p>In contrast, if you have ZIP files with different passwords for individual member files, then you need to provide the specific password for each file using the <code>pwd</code> argument of <code>.read()</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample_file_pwd.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="n">pwd</span><span class="o">=</span><span class="sa">b</span><span class="s2">"secret1"</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">b'Hello, Pythonista!'</span>
<span class="go">b''</span>
<span class="go">b'Welcome to Real Python!'</span>
<span class="go">b''</span>
<span class="go">b"Ready to try Python's zipfile module?"</span>
<span class="go">b''</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample_file_pwd.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"lorem.md"</span><span class="p">,</span> <span class="n">pwd</span><span class="o">=</span><span class="sa">b</span><span class="s2">"secret2"</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">b'# Lorem Ipsum'</span>
<span class="go">b''</span>
<span class="go">b'Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
<span class="go">    ...</span>
</code></pre></div>
<p>In this example, you use <code>secret1</code> as a password to read <code>hello.txt</code> and <code>secret2</code> to read <code>lorem.md</code>. A final detail to consider is that when you use the <code>pwd</code> argument, you’re overriding whatever archive-level password you may have set with <code>.setpassword()</code>.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Calling <code>.read()</code> on a ZIP file that uses an unsupported compression method raises a <a href="https://docs.python.org/3/library/exceptions.html#NotImplementedError"><code>NotImplementedError</code></a>. You also get an error if the required compression module isn’t available in your Python installation.</p>
</div>
<p>If you’re looking for a more flexible way to read from member files and create and add new member files to an archive, then <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.open"><code>ZipFile.open()</code></a> is for you. Like the built-in <code>open()</code> function, this method implements the context manager protocol, and therefore it supports the <code>with</code> statement:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">archive</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">hello</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">hello</span><span class="p">:</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">b'Hello, Pythonista!\n'</span>
<span class="go">b'\n'</span>
<span class="go">b'Welcome to Real Python!\n'</span>
<span class="go">b'\n'</span>
<span class="go">b"Ready to try Python's zipfile module?\n"</span>
</code></pre></div>
<p>In this example, you open <code>hello.txt</code> for reading. The first argument to <code>.open()</code> is <code>name</code>, indicating the member file that you want to open. The second argument is the mode, which defaults to <code>"r"</code> as usual. <code>ZipFile.open()</code> also accepts a <code>pwd</code> argument for opening encrypted files. This argument works the same as the equivalent <code>pwd</code> argument in <code>.read()</code>.</p>
<p>You can also use <code>.open()</code> with the <code>"w"</code> mode. This mode allows you to create a new member file, write content to it, and finally append the file to the underlying archive, which you should open in append mode:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"a"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">archive</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"new_hello.txt"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">new_hello</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">new_hello</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s2">"Hello, World!"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">13</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">"------"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"new_hello.txt"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
<span class="go">new_hello.txt                             1980-01-01 00:00:00           13</span>
<span class="go">------</span>
<span class="go">b'Hello, World!'</span>
</code></pre></div>
<p>In the first code snippet, you open <code>sample.zip</code> in append mode (<code>"a"</code>). Then you create <code>new_hello.txt</code> by calling <code>.open()</code> with the <code>"w"</code> mode. This function returns a file-like object that supports <a href="https://docs.python.org/3.9/library/io.html#io.BufferedIOBase.write"><code>.write()</code></a>, which allows you to write bytes into the newly created file.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> You need to supply a non-existing filename to <code>.open()</code>. If you use a filename that already exists in the underlying archive, then you’ll end up with a duplicated file and a <a href="https://docs.python.org/3.9/library/exceptions.html#UserWarning"><code>UserWarning</code></a> exception.</p>
</div>
<p>In this example, you write <code>b'Hello, World!'</code> into <code>new_hello.txt</code>. When the execution flow exits the inner <code>with</code> statement, Python writes the input bytes to the member file. When the outer <code>with</code> statement exits, Python writes <code>new_hello.txt</code> to the underlying ZIP file, <code>sample.zip</code>.</p>
<p>The second code snippet confirms that <code>new_hello.txt</code> is now a member file of <code>sample.zip</code>. A detail to notice in the output of this example is that <code>.write()</code> sets the <code>Modified</code> date of the newly added file to <code>1980-01-01 00:00:00</code>, which is a weird behavior that you should keep in mind when using this method.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="reading-the-content-of-member-files-as-text"><h3>Reading the Content of Member Files as Text<a class="headerlink" href="https://realpython.com/python-zipfile/#reading-the-content-of-member-files-as-text" title="Permanent link"></a></h3>
<p>As you learned in the above section, you can use the <code>.read()</code> and <code>.write()</code> methods to read from and write to member files without extracting them from the containing ZIP archive. Both of these methods work exclusively with bytes.</p>
<p>However, when you have a ZIP archive containing text files, you may want to read their content as text instead of as bytes. There are at least two way to do this. You can use:</p>
<ol>
<li><a href="https://docs.python.org/3/library/stdtypes.html#bytes.decode"><code>bytes.decode()</code></a></li>
<li><a href="https://docs.python.org/3/library/io.html#io.TextIOWrapper"><code>io.TextIOWrapper</code></a></li>
</ol>
<p>Because <code>ZipFile.read()</code> returns the content of the target member file as bytes, <code>.decode()</code> can operate on these bytes directly. The <code>.decode()</code> method decodes a <code>bytes</code> object into a string using a given <a href="https://en.wikipedia.org/wiki/Character_encoding">character encoding</a> format.</p>
<p>Here’s how you can use <code>.decode()</code> to read text from the <code>hello.txt</code> file in your <code>sample.zip</code> archive:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span> <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">text</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="go">Hello, Pythonista!</span>

<span class="go">Welcome to Real Python!</span>

<span class="go">Ready to try Python's zipfile module?</span>
</code></pre></div>
<p>In this example, you read the content of <code>hello.txt</code> as bytes. Then you call <code>.decode()</code> to decode the bytes into a string using <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> as <a href="https://realpython.com/python-encodings-guide/">encoding</a>. To set the <code>encoding</code> argument, you use the <code>"utf-8"</code> string. However, you can use any other valid encoding, such as <a href="https://en.wikipedia.org/wiki/UTF-16">UTF-16</a> or <a href="https://en.wikipedia.org/wiki/Windows-1252">cp1252</a>, which can be represented as case-insensitive strings. Note that <code>"utf-8"</code> is the default value of the <code>encoding</code> argument to <code>.decode()</code>.</p>
<p>It’s important to keep in mind that you need to know beforehand the character encoding format of any member file that you want to process using <code>.decode()</code>. If you use the wrong character encoding, then your code will fail to correctly decode the underlying bytes into text, and you can end up with a ton of indecipherable characters.</p>
<p>The second option for reading text out of a member file is to use an <code>io.TextIOWrapper</code> object, which provides a buffered text stream. This time you need to use <code>.open()</code> instead of <code>.read()</code>. Here’s an example of using <code>io.TextIOWrapper</code> to read the content of the <code>hello.txt</code> member file as a stream of text:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">io</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">archive</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">hello</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span><span class="n">hello</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">):</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="gp">...</span>
<span class="go">Hello, Pythonista!</span>

<span class="go">Welcome to Real Python!</span>

<span class="go">Ready to try Python's zipfile module?</span>
</code></pre></div>
<p>In the inner <code>with</code> statement in this example, you open the <code>hello.txt</code> member file from your <code>sample.zip</code> archive. Then you pass the resulting binary file-like object, <code>hello</code>, as an argument to <code>io.TextIOWrapper</code>. This creates a buffered text stream by decoding the content of <code>hello</code> using the UTF-8 character encoding format. As a result, you get a stream of text directly from your target member file.</p>
<p>Just like with <code>.encode()</code>, the <code>io.TextIOWrapper</code> class takes an <code>encoding</code> argument. You should always specify a value for this argument because the <a href="https://realpython.com/python310-new-features/#default-text-encodings">default text encoding</a> depends on the system running the code and may not be the right value for the file that you’re trying to decode.</p>
</section><section class="section3" id="extracting-member-files-from-your-zip-archives"><h3>Extracting Member Files From Your ZIP Archives<a class="headerlink" href="https://realpython.com/python-zipfile/#extracting-member-files-from-your-zip-archives" title="Permanent link"></a></h3>
<p>Extracting the content of a given archive is one of the most common operations that you’ll do on ZIP files. Depending on your needs, you may want to extract a single file at a time or all the files in one go.</p>
<p><a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.extract"><code>ZipFile.extract()</code></a> allows you to accomplish the first task. This method takes the name of a <code>member</code> file and extracts it to a given directory signaled by <code>path</code>. The destination <code>path</code> defaults to the current directory:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">"new_hello.txt"</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">"output_dir/"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">'output_dir/new_hello.txt'</span>
</code></pre></div>
<p>Now <code>new_hello.txt</code> will be in your <code>output_dir/</code> directory. If the target filename already exists in the output directory, then <code>.extract()</code> overwrites it without asking for confirmation. If the output directory doesn’t exist, then <code>.extract()</code> creates it for you. Note that <code>.extract()</code> returns the path to the extracted file.</p>
<p>The name of the member file must be the file’s full name as returned by <code>.namelist()</code>. It can also be a <code>ZipInfo</code> object containing the file’s information.</p>
<p>You can also use <code>.extract()</code> with encrypted files. In that case, you need to provide the required <code>pwd</code> argument or set the archive-level password with <code>.setpassword()</code>.</p>
<p>When it comes to extracting all the member files from an archive, you can use <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.extractall"><code>.extractall()</code></a>. As its name implies, this method extracts all the member files to a destination path, which is the current directory by default:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="s2">"output_dir/"</span><span class="p">)</span>
<span class="gp">...</span>
</code></pre></div>
<p>After running this code, all the current content of <code>sample.zip</code> will be in your <code>output_dir/</code> directory. If you pass a non-existing directory to <code>.extractall()</code>, then this method automatically creates the directory. Finally, if any of the member files already exist in the destination directory, then <code>.extractall()</code> will overwrite them without asking for your confirmation, so be careful.</p>
<p>If you only need to extract some of the member files from a given archive, then you can use the <code>members</code> argument. This argument accepts a list of member files, which should be a subset of the whole list of files in the archive at hand. Finally, just like <code>.extract()</code>, the <code>.extractall()</code> method also accepts a <code>pwd</code> argument to extract encrypted files.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="closing-zip-files-after-use"><h3>Closing ZIP Files After Use<a class="headerlink" href="https://realpython.com/python-zipfile/#closing-zip-files-after-use" title="Permanent link"></a></h3>
<p>Sometimes, it’s convenient for you to open a given ZIP file without using a <code>with</code> statement. In those cases, you need to manually close the archive after use to complete any writing operations and to free the acquired resources.</p>
<p>To do that, you can call <a href="https://docs.python.org/3/library/zipfile.html?highlight=zipfile#zipfile.ZipFile.close"><code>.close()</code></a> on your <code>ZipFile</code> object:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">archive</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use archive in different parts of your code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
<span class="go">new_hello.txt                             1980-01-01 00:00:00           13</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Close the archive when you're done</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archive</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archive</span>
<span class="go">&lt;zipfile.ZipFile [closed]&gt;</span>
</code></pre></div>
<p>The call to <code>.close()</code> closes <code>archive</code> for you. You must call <code>.close()</code> before exiting your program. Otherwise, some writing operations might not be executed. For example, if you open a ZIP file for appending (<code>"a"</code>) new member files, then you need to close the archive to write the files.</p>
</section></section><section class="section2" id="creating-populating-and-extracting-your-own-zip-files"><h2>Creating, Populating, and Extracting Your Own ZIP Files<a class="headerlink" href="https://realpython.com/python-zipfile/#creating-populating-and-extracting-your-own-zip-files" title="Permanent link"></a></h2>
<p>So far, you’ve learned how to work with existing ZIP files. You’ve learned to read, write, and append member files to them by using the different modes of <code>ZipFile</code>. You’ve also learned how to read relevant metadata and how to extract the content of a given ZIP file.</p>
<p>In this section, you’ll code a few practical examples that’ll help you learn how to create ZIP files from several input files and from an entire directory using <code>zipfile</code> and other Python tools. You’ll also learn how to use <code>zipfile</code> for file compression and more.</p>
<section class="section3" id="creating-a-zip-file-from-multiple-regular-files"><h3>Creating a ZIP File From Multiple Regular Files<a class="headerlink" href="https://realpython.com/python-zipfile/#creating-a-zip-file-from-multiple-regular-files" title="Permanent link"></a></h3>
<p>Sometimes you need to create a ZIP archive from several related files. This way, you can have all the files in a single container for distributing them over a computer network or sharing them with friends or colleagues. To this end, you can create a list of target files and write them into an archive using <code>ZipFile</code> and a loop:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="s2">"lorem.md"</span><span class="p">,</span> <span class="s2">"realpython.md"</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"multiple_files.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">...</span>
</code></pre></div>
<p>Here, you create a <code>ZipFile</code> object with the desired archive name as its first argument. The <code>"w"</code> mode allows you to write member files into the final ZIP file.</p>
<p>The <code>for</code> loop iterates over your list of input files and writes them into the underlying ZIP file using <code>.write()</code>. Once the execution flow exits the <code>with</code> statement, <code>ZipFile</code> automatically closes the archive, saving the changes for you. Now you have a <code>multiple_files.zip</code> archive containing all the files from your original list of files.</p>
</section><section class="section3" id="building-a-zip-file-from-a-directory"><h3>Building a ZIP File From a Directory<a class="headerlink" href="https://realpython.com/python-zipfile/#building-a-zip-file-from-a-directory" title="Permanent link"></a></h3>
<p>Bundling the content of a directory into a single archive is another everyday use case for ZIP files. Python has several tools that you can use with <code>zipfile</code> to approach this task. For example, you can use <a href="https://realpython.com/python-pathlib/"><code>pathlib</code></a> to read the content of a given directory. With that information, you can create a container archive using <code>ZipFile</code>.</p>
<p>In the <code>python-zipfile/</code> directory, you have a subdirectory called <code>source_dir/</code>, with the following content:</p>
<div class="highlight"><pre><span></span><code>source_dir/
│
├── hello.txt
├── lorem.md
└── realpython.md
</code></pre></div>
<p>In <code>source_dir/</code>, you only have three regular files. Because the directory doesn’t contain subdirectories, you can use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.iterdir"><code>pathlib.Path.iterdir()</code></a> to iterate over its content directly. With this idea in mind, here’s how you can build a ZIP file from the content of <code>source_dir/</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pathlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"source_dir/"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"directory.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
<span class="gp">... </span>       <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">file_path</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"directory.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
</code></pre></div>
<p>In this example, you create a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><code>pathlib.Path</code></a> object from your source directory. The first <code>with</code> statement creates a <code>ZipFile</code> object ready for writing. Then the call to <code>.iterdir()</code> returns an iterator over the entries in the underlying directory.</p>
<p>Because you don’t have any subdirectories in <code>source_dir/</code>, the <code>.iterdir()</code> function yields only files. The <code>for</code> loop iterates over the files and writes them into the archive.</p>
<p>In this case, you pass <code>file_path.name</code> to the second argument of <code>.write()</code>. This argument is called <code>arcname</code> and holds the name of the member file inside the resulting archive. All the examples that you’ve seen so far rely on the default value of <code>arcname</code>, which is the same filename you pass as the first argument to <code>.write()</code>.</p>
<p>If you don’t pass <code>file_path.name</code> to <code>arcname</code>, then your source directory will be at the root of your ZIP file, which can also be a valid result depending on your needs.</p>
<p>Now check out the <code>root_dir/</code> folder in your working directory. In this case, you’ll find the following structure:</p>
<div class="highlight"><pre><span></span><code>root_dir/
│
├── sub_dir/
│   └── new_hello.txt
│
├── hello.txt
├── lorem.md
└── realpython.md
</code></pre></div>
<p>You have the usual files and a subdirectory with a single file in it. If you want to create a ZIP file with this same internal structure, then you need a tool that <a href="https://realpython.com/python-recursion/">recursively</a> iterates through the <a href="https://realpython.com/directory-tree-generator-python/">directory tree</a> under <code>root_dir/</code>.</p>
<p>Here’s how to zip a complete directory tree, like the one above, using <code>zipfile</code> along with <code>Path.rglob()</code> from the <code>pathlib</code> module:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pathlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"root_dir/"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"directory_tree.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">"*"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">file_path</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">arcname</span><span class="o">=</span><span class="n">file_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"directory_tree.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">sub_dir/                                  2021-09-09 20:52:14            0</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">sub_dir/new_hello.txt                     2021-08-31 17:13:44           13</span>
</code></pre></div>
<p>In this example, you use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rglob"><code>Path.rglob()</code></a> to recursively traverse the <a href="https://realpython.com/directory-tree-generator-python/">directory tree</a> under <code>root_dir/</code>. Then you write every file and subdirectory to the target ZIP archive.</p>
<p>This time, you use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.is_relative_to"><code>Path.relative_to()</code></a> to get the relative path to each file and then pass the result to the second argument of <code>.write()</code>. This way, the resulting ZIP file ends up with the same internal structure as your original source directory. Again, you can get rid of this argument if you want your source directory to be at the root of your ZIP file.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="compressing-files-and-directories"><h3>Compressing Files and Directories<a class="headerlink" href="https://realpython.com/python-zipfile/#compressing-files-and-directories" title="Permanent link"></a></h3>
<p>If your files are taking up too much disk space, then you might consider compressing them. Python’s <code>zipfile</code> supports a few popular compression methods. However, the module doesn’t compress your files by default. If you want to make your files smaller, then you need to explicitly supply a compression method to <code>ZipFile</code>.</p>
<p>Typically, you’ll use the term <strong>stored</strong> to refer to member files written into a ZIP file without compression. That’s why the default compression method of <code>ZipFile</code> is called <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZIP_STORED">ZIP_STORED</a>, which actually refers to <em>uncompressed</em> member files that are simply stored in the containing archive.</p>
<p>The <code>compression</code> method is the third argument to the initializer of <code>ZipFile</code>. If you want to compress your files while you write them into a ZIP archive, then you can set this argument to one of the following constants:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Constant</th>
<th>Compression Method</th>
<th>Required Module</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>zipfile.ZIP_DEFLATED</code></td>
<td>Deflate</td>
<td><code>zlib</code></td>
</tr>
<tr>
<td><code>zipfile.ZIP_BZIP2</code></td>
<td>Bzip2</td>
<td><code>bz2</code></td>
</tr>
<tr>
<td><code>zipfile.ZIP_LZMA</code></td>
<td>LZMA</td>
<td><code>lzma</code></td>
</tr>
</tbody>
</table>
</div>
<p>These are the compression methods that you can currently use with <code>ZipFile</code>. A different method will raise a <a href="https://docs.python.org/3/library/exceptions.html#NotImplementedError"><code>NotImplementedError</code></a>. There are no additional compression methods available to <code>zipfile</code> as of Python 3.10.</p>
<p>As an additional requirement, if you choose one of these methods, then the compression module that supports it must be available in your Python installation. Otherwise, you’ll get a <a href="https://docs.python.org/3/library/exceptions.html#RuntimeError"><code>RuntimeError</code></a> exception, and your code will break.</p>
<p>Another relevant argument of <code>ZipFile</code> when it comes to compressing your files is <code>compresslevel</code>. This argument controls which compression level you use.</p>
<p>With the Deflate method, <code>compresslevel</code> can take integer <a href="https://realpython.com/python-numbers/">numbers</a> from <code>0</code> through <code>9</code>. With the Bzip2 method, you can pass integers from <code>1</code> through <code>9</code>. In both cases, when the compression level increases, you get higher compression and lower compression speed.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Binary files, such as PNG, JPG, MP3, and the like, already use some kind of compression. As a result, adding them to a ZIP file may not make the data any smaller, because it’s already compressed to some level.</p>
</div>
<p>Now say you want to archive and compress the content of a given directory using the Deflate method, which is the most commonly used method in ZIP files. To do that, you can run the following code:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pathlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span><span class="p">,</span> <span class="n">ZIP_DEFLATED</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"source_dir/"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s2">"comp_dir.zip"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">,</span> <span class="n">ZIP_DEFLATED</span><span class="p">,</span> <span class="n">compresslevel</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">"*"</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">file_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">directory</span><span class="p">))</span>
<span class="gp">...</span>
</code></pre></div>
<p>In this example, you pass <code>9</code> to <code>compresslevel</code> to get maximum compression. To provide this argument, you use a <a href="https://realpython.com/defining-your-own-python-function/#keyword-arguments">keyword argument</a>. You need to do this because <code>compresslevel</code> isn’t the fourth <a href="https://realpython.com/defining-your-own-python-function/#positional-arguments">positional argument</a> to the <code>ZipFile</code> initializer.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The initializer of <code>ZipFile</code> takes a fourth argument called <code>allowZip64</code>. It’s a <a href="https://realpython.com/python-boolean/">Boolean</a> argument that tells <code>ZipFile</code> to create ZIP files with the <code>.zip64</code> extension for files larger than 4 GB.</p>
</div>
<p>After running this code, you’ll have a <code>comp_dir.zip</code> file in your current directory. If you compare the size of that file with the size of your original <code>sample.zip</code> file, then you’ll note a significant size reduction.</p>
</section><section class="section3" id="creating-zip-files-sequentially"><h3>Creating ZIP Files Sequentially<a class="headerlink" href="https://realpython.com/python-zipfile/#creating-zip-files-sequentially" title="Permanent link"></a></h3>
<p>Creating ZIP files sequentially can be another common requirement in your day-to-day programming. For example, you may need to create an initial ZIP file with or without content and then append new member files as soon as they become available. In this situation, you need to open and close the target ZIP file multiple times.</p>
<p>To solve this problem, you can use <code>ZipFile</code> in append mode (<code>"a"</code>), as you have already done. This mode allows you to safely append new member files to a ZIP archive without truncating its current content:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">append_member</span><span class="p">(</span><span class="n">zip_file</span><span class="p">,</span> <span class="n">member</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">zip_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"a"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">get_file_from_stream</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sd">"""Simulate a stream of files."""</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"hello.txt"</span><span class="p">,</span> <span class="s2">"lorem.md"</span><span class="p">,</span> <span class="s2">"realpython.md"</span><span class="p">]:</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="n">file</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">get_file_from_stream</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">append_member</span><span class="p">(</span><span class="s2">"incremental.zip"</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"incremental.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">archive</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.txt                                 2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                  2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                             2021-09-07 19:50:10          428</span>
</code></pre></div>
<p>In this example, <code>append_member()</code> is a <a href="https://realpython.com/defining-your-own-python-function/">function</a> that appends a file (<code>member</code>) to the input ZIP archive (<code>zip_file</code>). To perform this action, the function opens and closes the target archive every time you call it. Using a function to perform this task allows you to reuse the code as many times as you need.</p>
<p>The <code>get_file_from_stream()</code> function is a <a href="https://realpython.com/introduction-to-python-generators/">generator function</a> simulating a stream of files to process. Meanwhile, the <code>for</code> loop sequentially adds member files to <code>incremental.zip</code> using <code>append_number()</code>. If you check your working directory after running this code, then you’ll find an <code>incremental.zip</code> archive containing the three files that you passed into the loop.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="extracting-files-and-directories"><h3>Extracting Files and Directories<a class="headerlink" href="https://realpython.com/python-zipfile/#extracting-files-and-directories" title="Permanent link"></a></h3>
<p>One of the most common operations you’ll ever perform on ZIP files is to extract their content to a given directory in your file system. You already learned the basics of using <code>.extract()</code> and <code>.extractall()</code> to extract one or all the files from an archive.</p>
<p>As an additional example, get back to your <code>sample.zip</code> file. At this point, the archive contains four files of different types. You have two <code>.txt</code> files and two <code>.md</code> files. Now say you want to extract only the <code>.md</code> files. To do so, you can run the following code:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".md"</span><span class="p">):</span>
<span class="gp">... </span>            <span class="n">archive</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">"output_dir/"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">'output_dir/lorem.md'</span>
<span class="go">'output_dir/realpython.md'</span>
</code></pre></div>
<p>The <code>with</code> statement opens <code>sample.zip</code> for reading. The loop iterates over each file in the archive using <code>namelist()</code>, while the conditional statement checks if the filename ends with the <code>.md</code> extension. If it does, then you extract the file at hand to a target directory, <code>output_dir/</code>, using <code>.extract()</code>.</p>
</section></section><section class="section2" id="exploring-additional-classes-from-zipfile"><h2>Exploring Additional Classes From <code>zipfile</code><a class="headerlink" href="https://realpython.com/python-zipfile/#exploring-additional-classes-from-zipfile" title="Permanent link"></a></h2>
<p>So far, you’ve learned about <code>ZipFile</code> and <code>ZipInfo</code>, which are two of the classes available in <code>zipfile</code>. This module also provides two more classes that can be handy in some situations. Those classes are <a href="https://docs.python.org/3/library/zipfile.html#zipfile.Path"><code>zipfile.Path</code></a> and <a href="https://docs.python.org/3/library/zipfile.html#zipfile.PyZipFile"><code>zipfile.PyZipFile</code></a>. In the following two sections, you’ll learn the basics of these classes and their main features.</p>
<section class="section3" id="finding-path-in-a-zip-file"><h3>Finding <code>Path</code> in a ZIP File<a class="headerlink" href="https://realpython.com/python-zipfile/#finding-path-in-a-zip-file" title="Permanent link"></a></h3>
<p>When you open a ZIP file with your favorite archiver application, you see the archive’s internal structure. You may have files at the root of the archive. You may also have subdirectories with more files. The archive looks like a normal directory on your file system, with each file located at a specific path.</p>
<p>The <code>zipfile.Path</code> class allows you to construct path objects to quickly create and manage paths to member files and directories inside a given ZIP file. The class takes two arguments:</p>
<ul>
<li><strong><code>root</code></strong> accepts a ZIP file, either as a <code>ZipFile</code> object or a string-based path to a physical ZIP file.</li>
<li><strong><code>at</code></strong> holds the location of a specific member file or directory inside the archive. It defaults to the empty string, representing the root of the archive.</li>
</ul>
<p>With your old friend <code>sample.zip</code> as the target, run the following code:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="s2">"hello.txt"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span>
<span class="go">Path('sample.zip', 'hello.txt')</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span><span class="o">.</span><span class="n">name</span>
<span class="go">'hello.txt'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hello_txt</span><span class="o">.</span><span class="n">read_text</span><span class="p">())</span>
<span class="go">Hello, Pythonista!</span>

<span class="go">Welcome to Real Python!</span>

<span class="go">Ready to try Python's zipfile module?</span>
</code></pre></div>
<p>This code shows that <code>zipfile.Path</code> implements several features that are common to a <code>pathlib.Path</code> object. You can get the name of the file with <code>.name</code>. You can check if the path points to a regular file with <code>.is_file()</code>. You can check if a given file exists inside a particular ZIP file, and more.</p>
<p><code>Path</code> also provides an <code>.open()</code> method to open a member file using different modes. For example, the code below opens <code>hello.txt</code> for reading:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_txt</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">,</span> <span class="s2">"hello.txt"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">hello_txt</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">hello</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">hello</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Hello, Pythonista!</span>

<span class="go">Welcome to Real Python!</span>

<span class="go">Ready to try Python's zipfile module?</span>
</code></pre></div>
<p>With <code>Path</code>, you can quickly create a path object pointing to a specific member file in a given ZIP file and access its content immediately using <code>.open()</code>.</p>
<p>Just like with a <code>pathlib.Path</code> object, you can list the content of a ZIP file by calling <a href="https://docs.python.org/3/library/zipfile.html#zipfile.Path.iterdir"><code>.iterdir()</code></a> on a <code>zipfile.Path</code> object:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"sample.zip"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span>
<span class="go">Path('sample.zip', '')</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>
<span class="go">[</span>
<span class="go">    Path('sample.zip', 'hello.txt'),</span>
<span class="go">    Path('sample.zip', 'lorem.md'),</span>
<span class="go">    Path('sample.zip', 'realpython.md')</span>
<span class="go">]</span>
</code></pre></div>
<p>It’s clear that <code>zipfile.Path</code> provides many useful features that you can use to manage member files in your ZIP archives in almost no time.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="building-importable-zip-files-with-pyzipfile"><h3>Building Importable ZIP Files With <code>PyZipFile</code><a class="headerlink" href="https://realpython.com/python-zipfile/#building-importable-zip-files-with-pyzipfile" title="Permanent link"></a></h3>
<p>Another useful class in <code>zipfile</code> is <a href="https://docs.python.org/3.9/library/zipfile.html#zipfile.PyZipFile"><code>PyZipFile</code></a>. This class is pretty similar to <code>ZipFile</code>, and it’s especially handy when you need to bundle Python modules and packages into ZIP files. The main difference from <code>ZipFile</code> is that the initializer of <code>PyZipFile</code> takes an optional argument called <code>optimize</code>, which allows you to optimize the Python code by compiling it to <a href="https://docs.python.org/3/glossary.html#term-bytecode">bytecode</a> before archiving it.</p>
<p><code>PyZipFile</code> provides the same interface as <code>ZipFile</code>, with the addition of <a href="https://docs.python.org/3/library/zipfile.html#pyzipfile-objects"><code>.writepy()</code></a>. This method can take a Python file (<code>.py</code>) as an argument and add it to the underlying ZIP file. If <code>optimize</code> is <code>-1</code> (the default), then the <code>.py</code> file is automatically compiled to a <code>.pyc</code> file and then added to the target archive. Why does this happen?</p>
<p>Since version 2.3, the Python interpreter has supported <a href="https://docs.python.org/3/whatsnew/2.3.html#pep-273-importing-modules-from-zip-archives">importing Python code from ZIP files</a>, a capability known as <a href="https://realpython.com/python-zip-import/">Zip imports</a>. This feature is quite convenient. It allows you to create <strong>importable ZIP files</strong> to distribute your <a href="https://realpython.com/python-modules-packages/">modules and packages</a> as a single archive.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> You can also use the ZIP file format to create and distribute Python executable applications, which are commonly known as Python Zip applications. To learn how to create them, check out <a href="https://realpython.com/python-zipapp/">Python’s zipapp: Build Executable Zip Applications</a>.</p>
</div>
<p><code>PyZipFile</code> is helpful when you need to generate importable ZIP files. Packaging the <code>.pyc</code> file rather than the <code>.py</code> file makes the importing process way more efficient because it skips the compilation step.</p>
<p>Inside the <code>python-zipfile/</code> directory, you have a <code>hello.py</code> module with the following content:</p>
<div class="highlight python"><pre><span></span><code><span class="sd">"""Print a greeting message."""</span>
<span class="c1"># hello.py</span>

<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"World"</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">! Welcome to Real Python!"</span><span class="p">)</span>
</code></pre></div>
<p>This code defines a function called <code>greet()</code>, which takes <code>name</code> as an argument and <a href="https://realpython.com/python-print/">prints</a> a greeting message to the screen. Now say you want to package this module into a ZIP file for distribution purposes. To do that, you can run the following code:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">PyZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_module</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">zip_module</span><span class="o">.</span><span class="n">writepy</span><span class="p">(</span><span class="s2">"hello.py"</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">PyZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_module</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">zip_module</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello.pyc                                 2021-09-13 13:25:56          311</span>
</code></pre></div>
<p>In this example, the call to <code>.writepy()</code> automatically compiles <code>hello.py</code> to <code>hello.pyc</code> and stores it in <code>hello.zip</code>. This becomes clear when you list the archive’s content using <code>.printdir()</code>.</p>
<p>Once you have <code>hello.py</code> bundled into a ZIP file, then you can use Python’s <a href="https://realpython.com/python-import/">import</a> system to import this module from its containing archive:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Insert the archive into sys.path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">"/home/user/python-zipfile/hello.zip"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">'/home/user/python-zipfile/hello.zip'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import and use the code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hello</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello</span><span class="o">.</span><span class="n">greet</span><span class="p">(</span><span class="s2">"Pythonista"</span><span class="p">)</span>
<span class="go">Hello, Pythonista! Welcome to Real Python!</span>
</code></pre></div>
<p>The first step to import code from a ZIP file is to make that file available in <a href="https://docs.python.org/3/library/sys.html#sys.path"><code>sys.path</code></a>. This <a href="https://realpython.com/python-variables/">variable</a> holds a list of strings that specifies Python’s <strong>search path</strong> for modules. To add a new item to <code>sys.path</code>, you can use <code>.insert()</code>.</p>
<p>For this example to work, you need to change the placeholder path and pass the path to <code>hello.zip</code> on your file system. Once your importable ZIP file is in this list, then you can import your code just like you’d do with a regular module.</p>
<p>Finally, consider the <code>hello/</code> subdirectory in your working folder. It contains a small Python package with the following structure:</p>
<div class="highlight"><pre><span></span><code>hello/
|
├── __init__.py
└── hello.py
</code></pre></div>
<p>The <code>__init__.py</code> module turns the <code>hello/</code> directory into a Python package. The <code>hello.py</code> module is the same one that you used in the example above. Now suppose you want to bundle this package into a ZIP file. If that’s the case, then you can do the following:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zipfile</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">PyZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_pkg</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">zip_pkg</span><span class="o">.</span><span class="n">writepy</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">PyZipFile</span><span class="p">(</span><span class="s2">"hello.zip"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_pkg</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">zip_pkg</span><span class="o">.</span><span class="n">printdir</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">File Name                                        Modified             Size</span>
<span class="go">hello/__init__.pyc                        2021-09-13 13:39:30          108</span>
<span class="go">hello/hello.pyc                           2021-09-13 13:39:30          317</span>
</code></pre></div>
<p>The call to <code>.writepy()</code> takes the <code>hello</code> package as an argument, searches for <code>.py</code> files inside it, compiles them to <code>.pyc</code> files, and finally adds them to the target ZIP file, <code>hello.zip</code>. Again, you can import your code from this archive by following the steps that you learned before:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">"/home/user/python-zipfile/hello.zip"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hello</span> <span class="kn">import</span> <span class="n">hello</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hello</span><span class="o">.</span><span class="n">greet</span><span class="p">(</span><span class="s2">"Pythonista"</span><span class="p">)</span>
<span class="go">Hello, Pythonista! Welcome to Real Python!</span>
</code></pre></div>
<p>Because your code is in a package now, you first need to import the <code>hello</code> module from the <code>hello</code> package. Then you can access your <code>greet()</code> function normally.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="running-zipfile-from-your-command-line"><h2>Running <code>zipfile</code> From Your Command Line<a class="headerlink" href="https://realpython.com/python-zipfile/#running-zipfile-from-your-command-line" title="Permanent link"></a></h2>
<p>Python’s <code>zipfile</code> also offers a minimal <a href="https://realpython.com/command-line-interfaces-python-argparse/">command-line interface</a> that allows you to access the module’s main functionality quickly. For example, you can use the <code>-l</code> or <code>--list</code> option to list the content of an existing ZIP file:</p>
<div class="highlight sh"><pre><span></span><code><span class="gp">$ </span>python -m zipfile --list sample.zip
<span class="go">File Name                                         Modified             Size</span>
<span class="go">hello.txt                                  2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                   2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                              2021-09-07 19:50:10          428</span>
<span class="go">new_hello.txt                              1980-01-01 00:00:00           13</span>
</code></pre></div>
<p>This command shows the same output as an equivalent call to <code>.printdir()</code> on the <code>sample.zip</code> archive.</p>
<p>Now say you want to create a new ZIP file containing several input files. In that case, you can use the <code>-c</code> or <code>--create</code> option:</p>
<div class="highlight sh"><pre><span></span><code><span class="gp">$ </span>python -m zipfile --create new_sample.zip hello.txt lorem.md realpython.md

<span class="gp">$ </span>python -m zipfile -l new_sample.zip
<span class="go">File Name                                         Modified             Size</span>
<span class="go">hello.txt                                  2021-09-07 19:50:10           83</span>
<span class="go">lorem.md                                   2021-09-07 19:50:10         2609</span>
<span class="go">realpython.md                              2021-09-07 19:50:10          428</span>
</code></pre></div>
<p>This command creates a <code>new_sample.zip</code> file containing your <code>hello.txt</code>, <code>lorem.md</code>, <code>realpython.md</code> files.</p>
<p>What if you need to create a ZIP file to archive an entire directory? For example, you may have your own <code>source_dir/</code> with the same three files as the example above. You can create a ZIP file from that directory by using the following command:</p>
<div class="highlight sh"><pre><span></span><code><span class="gp">$ </span>python -m zipfile -c source_dir.zip source_dir/

<span class="gp">$ </span>python -m zipfile -l source_dir.zip
<span class="go">File Name                                         Modified             Size</span>
<span class="go">source_dir/                                2021-08-31 08:55:58            0</span>
<span class="go">source_dir/hello.txt                       2021-08-31 08:55:58           83</span>
<span class="go">source_dir/lorem.md                        2021-08-31 09:01:08         2609</span>
<span class="go">source_dir/realpython.md                   2021-08-31 09:31:22          428</span>
</code></pre></div>
<p>With this command, <code>zipfile</code> places <code>source_dir/</code> at the root of the resulting <code>source_dir.zip</code> file. As usual, you can list the archive content by running <code>zipfile</code> with the <code>-l</code> option.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> When you use <code>zipfile</code> to create an archive from your command line, the library <a href="https://github.com/python/cpython/blob/5c65834d801d6b4313eef0684a30e12c22ccfedd/Lib/zipfile.py#L2408">implicitly uses</a> the Deflate compression algorithm when archiving your files.</p>
</div>
<p>You can also extract all the content of a given ZIP file using the <code>-e</code> or <code>--extract</code> option from your command line:</p>
<div class="highlight sh"><pre><span></span><code><span class="gp">$ </span>python -m zipfile --extract sample.zip sample/
</code></pre></div>
<p>After running this command, you’ll have a new <code>sample/</code> folder in your working directory. The new folder will contain the current files in your <code>sample.zip</code> archive.</p>
<p>The final option that you can use with <code>zipfile</code> from the command line is <code>-t</code> or <code>--test</code>. This option allows you to test if a given file is a valid ZIP file. Go ahead and give it a try!</p>
</section><section class="section2" id="using-other-libraries-to-manage-zip-files"><h2>Using Other Libraries to Manage ZIP Files<a class="headerlink" href="https://realpython.com/python-zipfile/#using-other-libraries-to-manage-zip-files" title="Permanent link"></a></h2>
<p>There are a few other tools in the Python standard library that you can use to archive, compress, and decompress your files at a lower level. Python’s <code>zipfile</code> uses some of these internally, mainly for compression purposes. Here’s a summary of some of these tools:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Module</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.python.org/3/library/zlib.html"><code>zlib</code></a></td>
<td>Allows compression and decompression using the <a href="https://www.zlib.net/">zlib</a> library</td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/bz2.html"><code>bz2</code></a></td>
<td>Provides an interface for compressing and decompressing data using the Bzip2 compression algorithm</td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/lzma.html"><code>lzma</code></a></td>
<td>Provides classes and functions for compressing and decompressing data using the LZMA compression algorithm</td>
</tr>
</tbody>
</table>
</div>
<p>Unlike <code>zipfile</code>, some of these modules allow you to compress and decompress data from memory and data streams other than regular files and archives.</p>
<p>In the Python standard library, you’ll also find <a href="https://docs.python.org/3/library/tarfile.html"><code>tarfile</code></a>, which supports the <a href="https://en.wikipedia.org/wiki/Tar_(computing)">TAR</a> archiving format. There’s also a module called <a href="https://docs.python.org/3/library/gzip.html"><code>gzip</code></a>, which provides an interface to compress and decompress data, similar to how the <a href="https://www.gnu.org/software/gzip/">GNU Gzip</a> program does it.</p>
<p>For example, you can use <code>gzip</code> to create a compressed file containing some text:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gzip</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"hello.txt.gz"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"wt"</span><span class="p">)</span> <span class="k">as</span> <span class="n">gz_file</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">gz_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"Hello, World!"</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">13</span>
</code></pre></div>
<p>Once you run this code, you’ll have a <code>hello.txt.gz</code> archive containing a compressed version of <code>hello.txt</code> in your current directory. Inside <code>hello.txt</code>, you’ll find the text <code>Hello, World!</code>.</p>
<p>A quick and high-level way to create a ZIP file without using <code>zipfile</code> is to use <a href="https://docs.python.org/3/library/shutil.html"><code>shutil</code></a>. This module allows you to perform several high-level operations on files and collections of files. When it comes to <a href="https://docs.python.org/3/library/shutil.html#archiving-operations">archiving operations</a>, you have <a href="https://docs.python.org/3/library/shutil.html#shutil.make_archive"><code>make_archive()</code></a>, which can create archives, such as ZIP or TAR files:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shutil</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">shutil</span><span class="o">.</span><span class="n">make_archive</span><span class="p">(</span><span class="s2">"shutil_sample"</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">"zip"</span><span class="p">,</span> <span class="n">root_dir</span><span class="o">=</span><span class="s2">"source_dir/"</span><span class="p">)</span>
<span class="go">'/home/user/sample.zip'</span>
</code></pre></div>
<p>This code creates a compressed file called <code>sample.zip</code> in your working directory. This ZIP file will contain all the files in the input directory, <code>source_dir/</code>. The <code>make_archive()</code> function is convenient when you need a quick and high-level way to create your ZIP files in Python.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"><div style="display:block;width:100%;padding-top:12.5%;"></div><div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div></div><a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"><i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section2" id="conclusion"><h2>Conclusion<a class="headerlink" href="https://realpython.com/python-zipfile/#conclusion" title="Permanent link"></a></h2>
<p>Python’s <strong><code>zipfile</code></strong> is a handy tool when you need to read, write, compress, decompress, and extract files from <strong>ZIP archives</strong>. The <a href="https://en.wikipedia.org/wiki/ZIP_(file_format)">ZIP file format</a> has become an industry standard, allowing you to package and optionally compress your digital data.</p>
<p>The benefits of using ZIP files include archiving related files together, saving disk space, making it easy to transfer data over computer networks, bundling Python code for distribution purposes, and more.</p>
<p><strong>In this tutorial, you learned how to:</strong></p>
<ul>
<li>Use Python’s <code>zipfile</code> to <strong>read, write, and extract</strong> existing ZIP files</li>
<li>Read <strong>metadata</strong> about the content of your ZIP files with <code>zipfile</code></li>
<li>Use <code>zipfile</code> to <strong>manipulate member files</strong> in existing ZIP files</li>
<li>Create <strong>your own ZIP files</strong> to archive and compress your digital data</li>
</ul>
<p>You also learned how to use <code>zipfile</code> from your command line to list, create, and extract your ZIP files. With this knowledge, you’re ready to efficiently archive, compress, and manipulate your digital data using the ZIP file format.</p>
</section>
<div class="text-center my-3">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left"><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
</div>
</div>
<div class="card mt-4 mb-4 bg-secondary">
<p class="card-header h3 text-center bg-light">🐍 Python Tricks 💌</p>
<div class="card-body">
<div class="container">
<div class="row">
<div class="col-xs-12 col-sm-7">
<p>Get a short &amp; sweet <strong>Python Trick</strong> delivered to your inbox every couple of days. No spam ever. Unsubscribe any time. Curated by the Real Python team.</p>
</div>
<div class="col-xs-12 col-sm-5">
<img class="img-fluid rounded mb-3" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge">
</div>
</div>
<div class="row mb-3">
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="gEan4xEiRblD5UbICzBOvv15YsXc9LZDHRAdweTuDK2Mijn8Lnls9khi5Q7NnbWl">
<input type="hidden" name="slug" value="static-python-tricks-footer">
<div class="form-group">
<input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" required="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-lg btn-block">Send Me Python Tricks »</button>
</form>
</div>
</div>
</div>
</div>
<div class="card mt-3" id="author">
<p class="card-header h3">About <strong>Leodanis Pozo Ramos</strong></p>
<div class="card-body">
<div class="container p-0">
<div class="row">
<div class="col-12 col-md-3 align-self-center">
<a href="https://realpython.com/team/lpozoramos/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(1)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=215&amp;h=215&amp;mode=crop&amp;sig=d5445576454e66fffb8c54c94a51779f114f6d98 215w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=431&amp;h=431&amp;mode=crop&amp;sig=09e05527710aa4fc68ca8cc43070c43c6aa15011 431w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=862&amp;h=862&amp;mode=crop&amp;sig=2d089ce1d1dc031cba6526fec6773d79fd0495d8 862w" sizes="25vw" width="862" height="862" class="d-block d-md-none rounded-circle img-fluid w-33 mb-0 mx-auto" alt="Leodanis Pozo Ramos"></a>
<a href="https://realpython.com/team/lpozoramos/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(1)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=215&amp;h=215&amp;mode=crop&amp;sig=d5445576454e66fffb8c54c94a51779f114f6d98 215w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=431&amp;h=431&amp;mode=crop&amp;sig=09e05527710aa4fc68ca8cc43070c43c6aa15011 431w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg&amp;w=862&amp;h=862&amp;mode=crop&amp;sig=2d089ce1d1dc031cba6526fec6773d79fd0495d8 862w" sizes="25vw" width="862" height="862" class="d-none d-md-block rounded-circle img-fluid w-100 mb-0" alt="Leodanis Pozo Ramos"></a>
</div>
<div class="col mt-3">
<p>Leodanis is an industrial engineer who loves Python and software development. He's a self-taught Python developer with 6+ years of experience. He's an avid technical writer with a growing number of articles published on Real Python and other sites.</p>
<a href="https://realpython.com/team/lpozoramos/" class="card-link">» More about Leodanis</a>
</div>
</div>
</div>
</div>
<hr class="my-0">
<div class="card-body pb-0">
<div class="container">
<div class="row">
<p><em>Each tutorial at Real Python is created by a team of developers so that it meets our high quality standards. The team members who worked on this tutorial are:</em></p>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/asantos/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(2)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/PP.9b8b026f75b8.jpg&amp;w=239&amp;h=239&amp;mode=crop&amp;sig=11667a6dd5c29e4c9363f18be59360551af5eddc 239w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/PP.9b8b026f75b8.jpg&amp;w=479&amp;h=479&amp;mode=crop&amp;sig=1541e1ec541357813def826d8507c0565164b701 479w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/PP.9b8b026f75b8.jpg&amp;w=959&amp;h=959&amp;mode=crop&amp;sig=70bedc2eab90a227eb9a657c415689c3eb1eca4f 959w" sizes="10vw" width="862" height="862" class="rounded-circle img-fluid w-100" alt="Aldren Santos"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/asantos/" class="card-link small"><p>Aldren</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/bzaczynski/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(3)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=225&amp;h=225&amp;mode=crop&amp;sig=8e1a0d84149944be3c2615404fb46e7da001c17f 225w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=450&amp;h=450&amp;mode=crop&amp;sig=2e7c93ebefa8a958432160f29cd4a09c889ae8d3 450w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=900&amp;h=900&amp;mode=crop&amp;sig=84695876e8b66be5e91aa5eb72f25a3fb4dcceeb 900w" sizes="10vw" width="862" height="862" class="rounded-circle img-fluid w-100" alt="Bartosz Zaczyński"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/bzaczynski/" class="card-link small"><p>Bartosz</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/gahjelle/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(4)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=c6390201e73d3e09429d73da5bb29c17ab10403a 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=fcea459ee24a7b320573cadee324cf75509dc1d6 400w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=800&amp;h=800&amp;mode=crop&amp;sig=e9b761c6cf1359953014dba05554f5424eb116e1 800w" sizes="10vw" width="862" height="862" class="rounded-circle img-fluid w-100" alt="Geir Arne Hjelle"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/gahjelle/" class="card-link small"><p>Geir Arne</p></a>
</div>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/icurrie/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(5)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/5sK42VEQ_-_Copy_-_Copy.b8a1a4a9ca1f.jpeg&amp;w=120&amp;h=120&amp;mode=crop&amp;sig=dad2ef3ce2a9504ccb3e27c807c67dac1e732aaf 120w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/5sK42VEQ_-_Copy_-_Copy.b8a1a4a9ca1f.jpeg&amp;w=240&amp;h=240&amp;mode=crop&amp;sig=39b9aa97e3dea6c4876a002cd66ed641f95a2881 240w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/5sK42VEQ_-_Copy_-_Copy.b8a1a4a9ca1f.jpeg&amp;w=480&amp;h=480&amp;mode=crop&amp;sig=79a608b4af0343081a2e28f28509c74db868ac56 480w" sizes="10vw" width="862" height="862" class="rounded-circle img-fluid w-100" alt="Ian Currie"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/icurrie/" class="card-link small"><p>Ian</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/kfinegan/"><img loading="lazy" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource(6)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/VZxEtUor_400x400.7169c68e3950.jpg&amp;w=100&amp;h=100&amp;mode=crop&amp;sig=d9cf1b0b2fe0e552070ab0b5a15b72c54464c74c 100w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/VZxEtUor_400x400.7169c68e3950.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=4e6d62ae536e46bd62dac2b283f8ea57536c1c5e 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/VZxEtUor_400x400.7169c68e3950.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=dfa9b806107d5d44e9a4750b9618a2614153164b 400w" sizes="10vw" width="862" height="862" class="rounded-circle img-fluid w-100" alt="Kate Finegan"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/kfinegan/" class="card-link small"><p>Kate</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center"></div>
<div class="col pl-0 d-none d-sm-block"></div>
</div>
</div>
</div>
</div>
<div class="bg-light rounded py-4 my-4 shadow shadow-sm mx-n2">
<div class="col-12 text-center d-block d-md-none">
<p class="h2 mb-3">Master <u><span class="marker-highlight">Real-World Python Skills</span></u> With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-1"><img class="w-75" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/lesson-locked.f5105cfd26db.svg" width="510" height="260"></p>
<p class="mx-auto w-75 mb-3 small"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert&nbsp;Pythonistas:</strong></p>
<p class="mb-0"><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=python-zipfile" class="btn btn-primary btn-sm px-4 mb-0">Level Up Your Python Skills »</a>
</p></div>
<div class="col-12 text-center d-none d-md-block">
<p class="h2 mb-2">Master <u><span class="marker-highlight">Real-World Python Skills</span></u><br>With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-2"><img class="w-50 mb-2" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/lesson-locked.f5105cfd26db.svg" width="510" height="260"></p>
<p class="mx-auto w-50 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=python-zipfile" class="btn btn-primary btn-lg px-4">Level Up Your Python Skills »</a>
</p></div>
</div>
<div class="card mt-4" id="reader-comments">
<p class="card-header h3">What Do You Think?</p>
<div class="text-center mt-3 mb-0 p-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Python%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%20by%20@realpython&amp;url=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APython%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%0A%0Ahttps%3A//realpython.com/python-zipfile/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="card-body">
<div class="alert alert-dark">
<p class="mb-0"><strong>Real Python Comment Policy:</strong> The most useful comments are those written with the goal of learning from or helping out other readers—after reading the whole article and all the earlier comments. Complaints and insults generally won’t make the cut here.</p>
</div>
<p>What’s your #1 takeaway or favorite thing you learned? How are you going to put your newfound skills to use? Leave a comment below and let us know.</p>
<div class="mb-4" id="disqus_thread">
</div>
</div>
</div>
<div class="card mt-4 mb-4">
<p class="card-header h3">Keep Learning</p>
<div class="card-body">
<p class="mb-0">Related Tutorial Categories:
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
</p>
</div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="rpvc">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header border-0 mt-3">
<div class="col-12 modal-title text-center">
<h2 class="my-0 mx-5">Master <u>Real-World Python Skills</u> With Unlimited Access to Real Python</h2>
<p class="text-center text-muted mt-2 mb-1">Already a member? <a href="https://realpython.com/account/login/?next=%2Fpython-zipfile%2F">Sign-In</a></p>
</div>
</div>
<div class="modal-body bg-light">
<div class="col-12 text-center">
<p class="mb-2 mt-3"><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v2"><img class="w-50 mb-2" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/lesson-locked.f5105cfd26db.svg" width="510" height="260"></a></p>
<p class="mx-auto w-66 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v2" class="btn btn-primary btn-lg px-4"><i class="fa fa-unlock mr-2"></i>Unlock All Content »</a>
</p></div>
</div>
<div class="modal-footer border-0">
<button class="text-muted btn" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/pw.72f5b8e31658.js.download" async=""></script>
</div>
<aside class="col-md-7 col-lg-4">
<div class="card mb-3 bg-secondary">
<form class="card-body" action="https://realpython.com/optins/process/" method="post">
<div class="form-group">
<p class="h5 text-muted text-center">— FREE Email Series —</p>
<p class="h3 text-center">🐍 Python Tricks 💌</p>
<p><img class="img-fluid rounded" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge"></p>
</div>
<div class="form-group">
<input type="hidden" name="csrfmiddlewaretoken" value="gEan4xEiRblD5UbICzBOvv15YsXc9LZDHRAdweTuDK2Mijn8Lnls9khi5Q7NnbWl">
<input type="hidden" name="slug" value="static-python-tricks-sidebar">
<input type="email" class="form-control form-control-md" name="email" placeholder="Email…" required="">
</div>
<button type="submit" name="submit" class="btn btn-primary btn-md btn-block">Get Python Tricks »</button>
<p class="mb-0 mt-2 text-muted text-center">🔒 No spam. Unsubscribe any time.</p>
</form>
</div>
<div class="sidebar-module sidebar-module-inset border">
<p class="h4"><a class="link-unstyled" href="https://realpython.com/tutorials/all/">All Tutorial Topics</a></p>
<a href="https://realpython.com/tutorials/advanced/" class="badge badge-light text-muted">advanced</a>
<a href="https://realpython.com/tutorials/api/" class="badge badge-light text-muted">api</a>
<a href="https://realpython.com/tutorials/basics/" class="badge badge-light text-muted">basics</a>
<a href="https://realpython.com/tutorials/best-practices/" class="badge badge-light text-muted">best-practices</a>
<a href="https://realpython.com/tutorials/community/" class="badge badge-light text-muted">community</a>
<a href="https://realpython.com/tutorials/databases/" class="badge badge-light text-muted">databases</a>
<a href="https://realpython.com/tutorials/data-science/" class="badge badge-light text-muted">data-science</a>
<a href="https://realpython.com/tutorials/devops/" class="badge badge-light text-muted">devops</a>
<a href="https://realpython.com/tutorials/django/" class="badge badge-light text-muted">django</a>
<a href="https://realpython.com/tutorials/docker/" class="badge badge-light text-muted">docker</a>
<a href="https://realpython.com/tutorials/flask/" class="badge badge-light text-muted">flask</a>
<a href="https://realpython.com/tutorials/front-end/" class="badge badge-light text-muted">front-end</a>
<a href="https://realpython.com/tutorials/gamedev/" class="badge badge-light text-muted">gamedev</a>
<a href="https://realpython.com/tutorials/gui/" class="badge badge-light text-muted">gui</a>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
<a href="https://realpython.com/tutorials/projects/" class="badge badge-light text-muted">projects</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
<a href="https://realpython.com/tutorials/testing/" class="badge badge-light text-muted">testing</a>
<a href="https://realpython.com/tutorials/tools/" class="badge badge-light text-muted">tools</a>
<a href="https://realpython.com/tutorials/web-dev/" class="badge badge-light text-muted">web-dev</a>
<a href="https://realpython.com/tutorials/web-scraping/" class="badge badge-light text-muted">web-scraping</a>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:100%;"></div>
<div class="rpad" data-unit="1x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
</div>
<div class="sidebar-sticky ">
<div class="bg-light sidebar-module sidebar-module-inset" id="sidebar-toc">
<p class="h4 text-muted"><a class="link-unstyled" href="https://realpython.com/python-zipfile/#toc">Table of Contents</a></p>
<div class="toc">
<ul>
<li><a href="https://realpython.com/python-zipfile/#getting-started-with-zip-files">Getting Started With ZIP Files</a><ul>
<li><a href="https://realpython.com/python-zipfile/#what-is-a-zip-file">What Is a ZIP File?</a></li>
<li><a href="https://realpython.com/python-zipfile/#why-use-zip-files">Why Use ZIP Files?</a></li>
<li><a href="https://realpython.com/python-zipfile/#can-python-manipulate-zip-files">Can Python Manipulate ZIP Files?</a></li>
</ul>
</li>
<li class=""><a href="https://realpython.com/python-zipfile/#manipulating-existing-zip-files-with-pythons-zipfile">Manipulating Existing ZIP Files With Python’s zipfile</a><ul>
<li><a href="https://realpython.com/python-zipfile/#opening-zip-files-for-reading-and-writing">Opening ZIP Files for Reading and Writing</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-metadata-from-zip-files">Reading Metadata From ZIP Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-from-and-writing-to-member-files">Reading From and Writing to Member Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#reading-the-content-of-member-files-as-text">Reading the Content of Member Files as Text</a></li>
<li><a href="https://realpython.com/python-zipfile/#extracting-member-files-from-your-zip-archives">Extracting Member Files From Your ZIP Archives</a></li>
<li><a href="https://realpython.com/python-zipfile/#closing-zip-files-after-use">Closing ZIP Files After Use</a></li>
</ul>
</li>
<li class=""><a href="https://realpython.com/python-zipfile/#creating-populating-and-extracting-your-own-zip-files">Creating, Populating, and Extracting Your Own ZIP Files</a><ul>
<li><a href="https://realpython.com/python-zipfile/#creating-a-zip-file-from-multiple-regular-files">Creating a ZIP File From Multiple Regular Files</a></li>
<li><a href="https://realpython.com/python-zipfile/#building-a-zip-file-from-a-directory">Building a ZIP File From a Directory</a></li>
<li><a href="https://realpython.com/python-zipfile/#compressing-files-and-directories">Compressing Files and Directories</a></li>
<li><a href="https://realpython.com/python-zipfile/#creating-zip-files-sequentially">Creating ZIP Files Sequentially</a></li>
<li><a href="https://realpython.com/python-zipfile/#extracting-files-and-directories">Extracting Files and Directories</a></li>
</ul>
</li>
<li class=""><a href="https://realpython.com/python-zipfile/#exploring-additional-classes-from-zipfile">Exploring Additional Classes From zipfile</a><ul>
<li><a href="https://realpython.com/python-zipfile/#finding-path-in-a-zip-file">Finding Path in a ZIP File</a></li>
<li><a href="https://realpython.com/python-zipfile/#building-importable-zip-files-with-pyzipfile">Building Importable ZIP Files With PyZipFile</a></li>
</ul>
</li>
<li class=""><a href="https://realpython.com/python-zipfile/#running-zipfile-from-your-command-line">Running zipfile From Your Command Line</a></li>
<li class="active"><a href="https://realpython.com/python-zipfile/#using-other-libraries-to-manage-zip-files">Using Other Libraries to Manage ZIP Files</a></li>
<li class=""><a href="https://realpython.com/python-zipfile/#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<div class="jsCompletionStatusWidget btn-group mb-0">
<button title="Click to mark as completed" class="jsBtnCompletion btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">Mark as Completed</button>
<button title="Add bookmark" class="jsBtnBookmark btn btn-secondary border-left"><i class="fa fa-fw fa-bookmark-o"></i></button>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Python%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%20by%20@realpython&amp;url=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/python-zipfile/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APython%27s%20zipfile%3A%20Manipulate%20Your%20ZIP%20Files%20Efficiently%0A%0Ahttps%3A//realpython.com/python-zipfile/" class="badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:25%;"></div>
<div class="rpad" data-unit="4x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
</div>
</div>
</aside>
</div>
</div>
<div class="modal fade" id="modal-python-zipfile-materials" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
 <div class="progress" style="height: .5rem;">
<div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4 mb-4">
<img class="img-fluid rounded" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/Using-ZIP-Files-With-Python_Watermarked.webp" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg&amp;w=480&amp;sig=5e29c1eb80679fe07db35f990a49ed0d8bfe64e9 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg&amp;w=960&amp;sig=9fa55a8dc81cde0f91cd002b0ad5de57aad44d67 960w, https://files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg 1920w" sizes="50vw" alt="Python&#39;s zipfile: Manipulate Your ZIP Files Efficiently">
</div>
<div class="col">
<p class="text-center h3 mb-4">Python's zipfile: Manipulate Your ZIP Files Efficiently (Materials)</p>
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="gEan4xEiRblD5UbICzBOvv15YsXc9LZDHRAdweTuDK2Mijn8Lnls9khi5Q7NnbWl">
<input type="hidden" name="slug" value="python-zipfile-materials">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required="" autofocus="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send Code »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer class="footer">
<div class="container">
<div class="w-75 mx-auto mt-4 mb-0">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
<a class="small text-muted" href="https://realpython.com/account/join/" rel="nofollow"> <i class="fa fa-info-circle" aria-hidden="true"> </i> Remove ads</a>
</div>
<p class="text-center text-muted w-75 mx-auto">© 2012–2022 Real Python&nbsp;⋅ <a href="https://realpython.com/newsletter/">Newsletter</a>&nbsp;⋅ <a href="https://realpython.com/podcasts/rpp/">Podcast</a>&nbsp;⋅ <a href="https://www.youtube.com/realpython">YouTube</a>&nbsp;⋅ <a href="https://twitter.com/realpython">Twitter</a>&nbsp;⋅ <a href="https://facebook.com/LearnRealPython">Facebook</a>&nbsp;⋅ <a href="https://www.instagram.com/realpython/">Instagram</a>&nbsp;⋅ <a href="https://realpython.com/">Python&nbsp;Tutorials</a>&nbsp;⋅ <a href="https://realpython.com/search">Search</a>&nbsp;⋅ <a href="https://realpython.com/privacy-policy/">Privacy Policy</a>&nbsp;⋅ <a href="https://realpython.com/energy-policy/" class="text-success active">Energy Policy</a>&nbsp;⋅ <a href="https://realpython.com/sponsorships/">Advertise</a>&nbsp;⋅ <a href="https://realpython.com/contact/">Contact</a><br>❤️ Happy Pythoning!</p>
</div>
</footer>
<script>
      (function(document, history, location) {
        var HISTORY_SUPPORT = !!(history && history.pushState);

        var anchorScrolls = {
          ANCHOR_REGEX: /^#[^ ]+$/,
          OFFSET_HEIGHT_PX: 120,

          /**
           * Establish events, and fix initial scroll position if a hash is provided.
           */
          init: function() {
            this.scrollToCurrent();
            window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
            document.body.addEventListener('click', this.delegateAnchors.bind(this));
          },

          /**
           * Return the offset amount to deduct from the normal scroll position.
           * Modify as appropriate to allow for dynamic calculations
           */
          getFixedOffset: function() {
            return this.OFFSET_HEIGHT_PX;
          },

          /**
           * If the provided href is an anchor which resolves to an element on the
           * page, scroll to it.
           * @param  {String} href
           * @return {Boolean} - Was the href an anchor.
           */
          scrollIfAnchor: function(href, pushToHistory) {
            var match, rect, anchorOffset;

            if(!this.ANCHOR_REGEX.test(href)) {
              return false;
            }

            match = document.getElementById(href.slice(1));

            if(match) {
              rect = match.getBoundingClientRect();
              anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
              window.scrollTo(window.pageXOffset, anchorOffset);

              // Add the state to history as-per normal anchor links
              if(HISTORY_SUPPORT && pushToHistory) {
                history.pushState({}, document.title, location.pathname + href);
              }
            }

            return !!match;
          },

          /**
           * Attempt to scroll to the current location's hash.
           */
          scrollToCurrent: function() {
            this.scrollIfAnchor(window.location.hash);
          },

          /**
           * If the click event's target was an anchor, fix the scroll position.
           */
          delegateAnchors: function(e) {
            var elem = e.target;

            // 
            if (elem.dataset.toggle === "tab") {
              return;
            }

            if(
              elem.nodeName === 'A' &&
              this.scrollIfAnchor(elem.getAttribute('href'), true)
            ) {
              e.preventDefault();
            }
          }
        };

        window.addEventListener(
          'DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls)
        );
      })(window.document, window.history, window.location);
    </script>
<script>
      (function() {
        var isAndroid = navigator.userAgent.toLowerCase().indexOf("android") > -1;
        if (!isAndroid) {
          return;
        }

        var styles = `
        @font-face {
          font-family: 'DejaVu Sans Mono';
          font-weight: normal;
          font-style: normal;
          font-display: swap;
          src: url('https://cdn.realpython.com/static/mfonts/dejavu-sans-mono.33f00225f915.woff2') format('woff2'),
               url('https://cdn.realpython.com/static/mfonts/dejavu-sans-mono.0da77d3739f3.woff') format('woff'),
               url('https://cdn.realpython.com/static/mfonts/dejavu-sans-mono.c2356fc49835.ttf') format('truetype');
        }
        code, kbd, pre, samp {
          font-family: 'DejaVu Sans Mono', monospace;
        }
        `

        var styleSheet = document.createElement("style")
        styleSheet.type = "text/css"
        styleSheet.innerText = styles
        document.head.appendChild(styleSheet)
      })();
    </script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/jquery.min.8fb8fee4fcc3.js.download"></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/popper.min.1022eaf388cc.js.download"></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/bootstrap.min.f0c2bcf5ef0c.js.download"></script>
<script>
    (function() {
      document.querySelectorAll(".js-search-form-submit").forEach(function(el) {
        el.addEventListener("click", function(e) {
          e.preventDefault();
          e.currentTarget.parentElement.submit();
        })
      });
    })();
    </script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/repl-toggle.925bef973b9c.js.download" async=""></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/lightbox.49cdac39212e.js.download" async=""></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/platforms-ui.b11202dc6079.js.download" async=""></script>
<script>window.rp_prop_id = '58946116052';</script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/tag.js.download" async=""></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/toc-refresh.76a102c7d921.js.download" async=""></script>
<script id="js-context" type="application/json">{"is_completed": false, "is_bookmarked": false, "api_article_bookmark_url": "/api/v1/articles/python-zipfile/bookmark/", "api_article_completion_status_url": "/api/v1/articles/python-zipfile/completion_status/", "api_article_progress_url": "/api/v1/articles/python-zipfile/progress/"}</script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/completion-status.352d07abd84a.js.download" async=""></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/progress.bd79e90fd4d2.js.download" async=""></script>
<script id="dsq-count-scr" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/count.js.download" async=""></script>
<script>
      var disqus_config = function () {
        this.page.url = 'https://realpython.com/python-zipfile/';
        this.page.identifier = 'https://realpython.com/python-zipfile/';
        this.callbacks.onReady = [function() {
          if (window.onDisqusReady) {
            window.onDisqusReady();
          }
        }];
      };
      var disqus_script_url = 'https://realpython.disqus.com/embed.js';
    </script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/lazy-disqus.07ee9079f4a3.js.download" defer=""></script>
<script src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/OneSignalSDK.js.download" async=""></script>
<script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: "c0081e20-a523-42bb-b0ac-04c5a9e8bf40"
      });
    });
  </script>
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Python\u0027s zipfile: Manipulate Your ZIP Files Efficiently",
    
    "image": {
      "@type": "ImageObject",
      "url": "https://files.realpython.com/media/Using-ZIP-Files-With-Python_Watermarked.216eff55787f.jpg",
      "width": 1920,
      "height": 1080
    },
    
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://realpython.com/python-zipfile/"
    },
    "datePublished": "2022-02-14T14:00:00+00:00",
    "dateModified": "2022-04-29T20:07:06.968538+00:00",
     "publisher": {
      "@type": "Organization",
      "name": "Real Python",
      "logo": {
        "@type": "ImageObject",
        "url": "https://cdn.realpython.com/static/real-python-logo-square-tiny.b2452b6d3823.png",
        "width": 60,
        "height": 60
      }
    },
    "author": {
      "@type": "Organization",
      "name": "Real Python",
      "url": "https://realpython.com",
      "logo": "https://cdn.realpython.com/static/real-python-logo-square.146e987bf77c.png"
    },
    "description": "In this guided tutorial, you\u0027ll learn how to manipulate ZIP files using Python\u0027s zipfile module from the standard library. Through hands\u002Don examples, you\u0027ll learn how to read, write, compress, and extract files from your ZIP files quickly."
  }
  </script>
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '2220911568135371');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=2220911568135371&ev=PageView&noscript=1"
/></noscript>
<script>!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});</script>
<script>
window.Beacon('init', 'f6ddfa28-ffa8-423f-b3b1-50e29e420c43')

Beacon("identify", {
  email: "cheatedepk@gmail.com",
  name: "cheatedepk",
  has_active_subscription: "False",
  username: "cheatedepk",
  userid: "494099"
});
</script>
<script type="text/javascript">(function(){window['__CF$cv$params']={r:'714c96c24cef9ce0',m:'nUIm8ZgtRfKx3Ttk68LKNTyTisqMZUiYicYuv9efpZg-1654135158-0-AWOxIOLACE4UmInqpLz5RoyW8tZM15/zUzYNffIE93YZ96fOXkhH6EOtDosDsFayOkqPG7ds+6d4uaANCBWllcQ/ZqopSajlXd0PFrTcZn6KcAu2iEjghB9f3b4rHcj3kw==',s:[0x69701c413c,0x1c3f584393],u:'/cdn-cgi/challenge-platform/h/g'}})();</script>

<div id="onesignal-bell-container" class="onesignal-bell-container onesignal-reset onesignal-bell-container-bottom-left"><div id="onesignal-bell-launcher" class="onesignal-bell-launcher onesignal-bell-launcher-md onesignal-bell-launcher-bottom-left onesignal-bell-launcher-theme-default onesignal-bell-launcher-active" style="bottom: 15px; left: 15px;"><div class="onesignal-bell-launcher-button"><svg class="onesignal-bell-svg" xmlns="http://www.w3.org/2000/svg" width="99.7" height="99.7" viewBox="0 0 99.7 99.7" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));;"><circle class="background" cx="49.9" cy="49.9" r="49.9" style="fill: rgb(208, 2, 27);"></circle><path class="foreground" d="M50.1 66.2H27.7s-2-.2-2-2.1c0-1.9 1.7-2 1.7-2s6.7-3.2 6.7-5.5S33 52.7 33 43.3s6-16.6 13.2-16.6c0 0 1-2.4 3.9-2.4 2.8 0 3.8 2.4 3.8 2.4 7.2 0 13.2 7.2 13.2 16.6s-1 11-1 13.3c0 2.3 6.7 5.5 6.7 5.5s1.7.1 1.7 2c0 1.8-2.1 2.1-2.1 2.1H50.1zm-7.2 2.3h14.5s-1 6.3-7.2 6.3-7.3-6.3-7.3-6.3z" style="fill: rgb(255, 255, 255);"></path><ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9" style="stroke: rgb(255, 255, 255);"></ellipse></svg></div><div class="onesignal-bell-launcher-badge" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0));;"></div><div class="onesignal-bell-launcher-message"><div class="onesignal-bell-launcher-message-body"></div></div><div class="onesignal-bell-launcher-dialog" style="filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));; -webkit-filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));;"><div class="onesignal-bell-launcher-dialog-body"></div></div></div></div><div id="beacon-container"><div class="hsds-beacon"><div class="Beacon"><div class="sc-AxheI gkgGqG"></div><div class="sc-AxhCb gIlgzz BeaconContainer is-configDisplayRight"></div><div class="sc-fznyAO ervaqA BeaconFabButtonFrame" style="border-radius: 55px; height: 55px; position: fixed; transform: scale(1); width: 104px; z-index: 1049;"><iframe config="[object Object]" title="Help Scout Beacon - Open" id="" data-cy="FrameComponent" src="./Python&#39;s zipfile_ Manipulate Your ZIP Files Efficiently – Real Python_files/saved_resource.html"></iframe></div></div></div></div></body><auto-scroll></auto-scroll></html>